<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="zh-CN">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="private,工具," />










<meta name="description" content="Maven更新更新本地maven库打开cmd窗口， 输入 mvn -v 可以查看本地仓库的地址 输入 mvn help:system 进行本地仓库更新 更新Maven仓库1mvn clean install -e -U   -e详细异常 -U强制更新  Maven生命周期详解Maven强大的一个重要的原因是它有一个十分完善的生命周期模型(lifecycle)，这个生命周期可以从两方面来理解，第一，">
<meta property="og:type" content="article">
<meta property="og:title" content="Maven相关">
<meta property="og:url" content="http://shenbh.github.io/posts/1184984655/index.html">
<meta property="og:site_name" content="AB">
<meta property="og:description" content="Maven更新更新本地maven库打开cmd窗口， 输入 mvn -v 可以查看本地仓库的地址 输入 mvn help:system 进行本地仓库更新 更新Maven仓库1mvn clean install -e -U   -e详细异常 -U强制更新  Maven生命周期详解Maven强大的一个重要的原因是它有一个十分完善的生命周期模型(lifecycle)，这个生命周期可以从两方面来理解，第一，">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://shenbh.github.io/posts/1184984655/981009fdly1gkvnb1s0i5j20fd05ajrh.jpg">
<meta property="article:published_time" content="2020-11-20T06:07:12.000Z">
<meta property="article:modified_time" content="2022-11-02T07:22:56.307Z">
<meta property="article:author" content="阿炳">
<meta property="article:tag" content="private">
<meta property="article:tag" content="工具">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://shenbh.github.io/posts/1184984655/981009fdly1gkvnb1s0i5j20fd05ajrh.jpg">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '',
    scheme: 'Gemini',
    version: '5.1.4',
    sidebar: {"position":"left","display":"always","offset":12,"b2t":true,"scrollpercent":true,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://shenbh.github.io/posts/1184984655/"/>





  <title>Maven相关 | AB</title><meta name="robots" content="noindex">
  








<meta name="generator" content="Hexo 6.1.0"></head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">AB</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">Just do IT Now.</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            Search
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off"
             placeholder="Searching..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://shenbh.github.io/posts/1184984655/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="AB">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">Maven相关</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-11-20T14:07:12+08:00">
                2020-11-20
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%B7%A5%E5%85%B7/" itemprop="url" rel="index">
                    <span itemprop="name">工具</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="Maven更新"><a href="#Maven更新" class="headerlink" title="Maven更新"></a>Maven更新</h1><h2 id="更新本地maven库"><a href="#更新本地maven库" class="headerlink" title="更新本地maven库"></a>更新本地maven库</h2><p>打开cmd窗口，</p>
<p>输入 <code>mvn -v</code> 可以查看本地仓库的地址</p>
<p>输入 <code>mvn help:system</code> 进行本地仓库更新</p>
<h2 id="更新Maven仓库"><a href="#更新Maven仓库" class="headerlink" title="更新Maven仓库"></a>更新Maven仓库</h2><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">mvn</span> clean install -e -U</span><br></pre></td></tr></table></figure>

<blockquote>
<p>-e详细异常</p>
<p>-U强制更新</p>
</blockquote>
<h1 id="Maven生命周期详解"><a href="#Maven生命周期详解" class="headerlink" title="Maven生命周期详解"></a><a target="_blank" rel="noopener" href="http://juvenshun.iteye.com/blog/213959">Maven生命周期详解</a></h1><p>Maven强大的一个重要的原因是它有一个十分完善的生命周期模型(lifecycle)，这个生命周期可以从两方面来理解，第一，顾名思义，运行Maven的每个步骤都由它来定义的，这种预定义的默认行为使得我们使用Maven变得简单，相比而言，Ant的每个步骤都要你手工去定义。第二，这个模型是一种标准，在不同的项目中，使用Maven的接口是一样的，这样就不用去仔细理解每个项目的构建了，一般情况下，**<code>mvn clean install</code>** 这样的命令是<em><strong>通用</strong></em>的。我想，一定是吸收了许多项目的经验，Maven才能定义出如此完善的模型。</p>
<p>Maven有三套相互独立的生命周期，请注意这里说的是“三套”，而且“相互独立”，初学者容易将Maven的生命周期看成一个整体，其实不然。这三套生命周期分别是：</p>
<ul>
<li><code>Clean Lifecycle</code> 在进行真正的构建之前进行一些清理工作。</li>
<li><code>Default Lifecycle</code> 构建的核心部分，编译，测试，打包，部署等等。</li>
<li><code>Site Lifecycle</code> 生成项目报告，站点，发布站点。</li>
</ul>
<p>我再次强调一下它们是相互独立的，你可以仅仅调用clean来清理工作目录，仅仅调用site来生成站点。当然你也可以直接运行 <strong><code>mvn clean install site</code></strong> 运行<em><strong>所有</strong></em>这三套生命周期。</p>
<p>知道了每套生命周期的大概用途和相互关系以后，来逐个详细看一下每套生命周期，Clean和Site相对比较简单，先解释一下。</p>
<p><em><strong>Clean生命周期解释：</strong></em></p>
<p>每套生命周期都由一组阶段(Phase)组成，我们平时在命令行输入的命令总会对应于一个特定的阶段。比如，运行<strong>mvn clean</strong> ，这个的clean是Clean生命周期的一个阶段。有点绕？要知道有Clean生命周期，也有clean阶段。Clean生命周期一共包含了三个阶段：</p>
<ul>
<li><code>pre-clean</code> 执行一些需要在clean之前完成的工作</li>
<li><code>clean</code> 移除所有上一次构建生成的文件</li>
<li><code>post-clean</code> 执行一些需要在clean之后立刻完成的工作</li>
</ul>
<blockquote>
<p><strong>mvn clean</strong> 中的clean就是上面的clean，在一个生命周期中，运行某个阶段的时候，它之前的所有阶段都会被运行，也就是说，<strong>mvn clean</strong> 等同于 <strong>mvn pre-clean clean</strong> ，如果我们运行 <strong>mvn post-clean</strong> ，那么 pre-clean，clean 都会被运行。这是Maven很重要的一个规则，可以大大简化命令行的输入。</p>
</blockquote>
<p><em><strong>Site生命周期解释：</strong></em></p>
<p>下面看一下Site生命周期的各个阶段：</p>
<ul>
<li>pre-site   执行一些需要在生成站点文档之前完成的工作</li>
<li>site   生成项目的站点文档</li>
<li>post-site   执行一些需要在生成站点文档之后完成的工作，并且为部署做准备</li>
<li>site-deploy   将生成的站点文档部署到特定的服务器上</li>
</ul>
<blockquote>
<p>这里经常用到的是site阶段和site-deploy阶段，用以生成和发布Maven站点，这可是Maven相当强大的功能，Manager比较喜欢，文档及统计数据自动生成，很好看。</p>
</blockquote>
<p><em><strong>Default生命周期解释：</strong></em></p>
<p>最后，来看一下Maven的最重要的Default生命周期，绝大部分工作都发生在这个生命周期中，这里，我只解释一些比较重要和常用的阶段：</p>
<ul>
<li>validate</li>
<li>generate-sources</li>
<li>process-sources</li>
<li>generate-resources</li>
<li>process-resources   复制并处理资源文件，至目标目录，准备打包。</li>
<li>compile   编译项目的源代码。</li>
<li>process-classes</li>
<li>generate-test-sources </li>
<li>process-test-sources </li>
<li>generate-test-resources</li>
<li>process-test-resources   复制并处理资源文件，至目标测试目录。</li>
<li>test-compile   编译测试源代码。</li>
<li>process-test-classes </li>
<li>test   使用合适的单元测试框架运行测试。这些测试代码不会被打包或部署。</li>
<li>prepare-package </li>
<li>package   接受编译好的代码，打包成可发布的格式，如 JAR 。</li>
<li>pre-integration-test</li>
<li>integration-test</li>
<li>post-integration-test </li>
<li>verify </li>
<li>install   将包安装至本地仓库，以让其它项目依赖。</li>
<li>deploy   将最终的包复制到远程的仓库，以让其它开发人员与项目共享。</li>
</ul>
<p>基本上，根据名称我们就能猜出每个阶段的用途，关于其它阶段的解释，请参考 <a target="_blank" rel="noopener" href="http://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html">http://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html </a></p>
<p><em><strong>记住，运行任何一个阶段的时候，它前面的所有阶段都会被运行</strong></em>，这也就是为什么我们运行<strong>mvn install</strong> 的时候，代码会被编译，测试，打包。</p>
<p>此外，Maven的插件机制是完全依赖Maven的生命周期的，因此理解生命周期至关重要</p>
<h1 id="Maven聚合与继承"><a href="#Maven聚合与继承" class="headerlink" title="Maven聚合与继承"></a><a target="_blank" rel="noopener" href="http://chenzhou123520.iteye.com/blog/1582166">Maven聚合与继承</a></h1><h2 id="聚合"><a href="#聚合" class="headerlink" title="聚合"></a>聚合</h2><p>为了能够使用一条命令就能构建 <code>account-email</code>和 <code>account-persist</code>两个模块，我们需要建立一个额外的名为 <code>account-aggregator</code>的模块，然后通过该模块构建整个项目的所有模块。</p>
<p><code>account-aggregator</code>本身也是个 <code>Maven</code>项目，它的 <code>POM</code>如下</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">project</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.juvenxu.mvnbook.account<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>account-aggregator<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">packaging</span>&gt;</span> pom <span class="tag">&lt;/<span class="name">packaging</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>Account Aggregator<span class="tag">&lt;/<span class="name">name</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">modules</span>&gt;</span>  </span><br><span class="line">        <span class="tag">&lt;<span class="name">module</span>&gt;</span>account-email<span class="tag">&lt;/<span class="name">module</span>&gt;</span>  </span><br><span class="line">        <span class="tag">&lt;<span class="name">module</span>&gt;</span>account-persist<span class="tag">&lt;/<span class="name">module</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;/<span class="name">modules</span>&gt;</span><span class="comment">&lt;!--模块聚合--&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>注意：packaging的类型为<strong>pom</strong> ，module的值是一个以当前POM为主目录的<strong>相对路径</strong>。</p>
</blockquote>
<h2 id="继承"><a href="#继承" class="headerlink" title="继承"></a>继承</h2><p>可声明父POM供子 POM继承</p>
<p>父模块POM如下：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">project</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.juvenxu.mvnbook.account<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>account-parent<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">packaging</span>&gt;</span>pom<span class="tag">&lt;/<span class="name">packaging</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>Account Parent<span class="tag">&lt;/<span class="name">name</span>&gt;</span>  </span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>子模块声明继承如下：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">project</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span>  </span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">parent</span>&gt;</span>  </span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.juvenxu.mvnbook.account<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span>  </span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>account-parent<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span>  </span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span>  </span><br><span class="line">        <span class="tag">&lt;<span class="name">relativePath</span>&gt;</span>../account-parent/pom.xml<span class="tag">&lt;/<span class="name">relativePath</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;/<span class="name">parent</span>&gt;</span><span class="comment">&lt;!--引用父模块--&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>account-email<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>Account Email<span class="tag">&lt;/<span class="name">name</span>&gt;</span>  </span><br><span class="line">    ...  </span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>最后，同样还需要把 <code>account-parent</code>加入到聚合模块<code>account-aggregator</code>中。聚合的 POM如下：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">project</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.juvenxu.mvnbook.account<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>account-aggregator<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">packaging</span>&gt;</span>pom<span class="tag">&lt;/<span class="name">packaging</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>Account Aggregator<span class="tag">&lt;/<span class="name">name</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">modules</span>&gt;</span>  </span><br><span class="line">        <span class="tag">&lt;<span class="name">module</span>&gt;</span>account-email<span class="tag">&lt;/<span class="name">module</span>&gt;</span>  </span><br><span class="line">        <span class="tag">&lt;<span class="name">module</span>&gt;</span>account-persist<span class="tag">&lt;/<span class="name">module</span>&gt;</span>  </span><br><span class="line">        <span class="tag">&lt;<span class="name">module</span>&gt;</span>account-parent<span class="tag">&lt;/<span class="name">module</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;/<span class="name">modules</span>&gt;</span><span class="comment">&lt;!--模块聚合--&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p> <strong>注意：</strong></p>
<p>1、子模块没有声明<code>groupId</code>和<code>version</code>, 这两个属性继承至父模块。但如果子模块有不同与父模块的 <code>groupId</code>、<code>version</code> ，也可指定；</p>
<p>2、不应该继承<code>artifactId</code>，如果<code>groupId</code> ，<code>version</code>，<code>artifactId</code> 完全继承的话会造成坐标冲突；另外即使使用不同的 <code>groupId</code>或<code>version</code>，同样的 <code>artifactId</code>也容易产生混淆。</p>
<p>3、<strong>使用继承后 <code>parent</code>也必须像自模块一样加入到聚合模块中</strong>。也就是在在聚合模块的 <code>pom</code>中加入<code>&lt;module&gt;account-parent&lt;/module&gt;</code></p>
<h2 id="聚合与继承的关系"><a href="#聚合与继承的关系" class="headerlink" title="聚合与继承的关系"></a>聚合与继承的关系</h2><p><strong>区别</strong> ：</p>
<ol>
<li><p>对于聚合模块来说，它知道有哪些被聚合的模块，但那些被聚合的模块不知道这个聚合模块的存在。</p>
</li>
<li><p>对于继承关系的父 POM来说，它不知道有哪些子模块继承与它，但那些子模块都必须知道自己的父 POM是什么。</p>
</li>
</ol>
<p><strong>共同点</strong> ：</p>
<ol>
<li><p>聚合 POM与继承关系中的父POM的 packaging都是pom</p>
</li>
<li><p>聚合模块与继承关系中的父模块除了 POM之外都没有实际的内容。</p>
</li>
</ol>
<p><img src="/posts/1184984655/981009fdly1gkvnb1s0i5j20fd05ajrh.jpg" alt="Maven中聚合与继承的关系比较.jpg"></p>
<blockquote>
<p>注：在现有的实际项目中一个 POM既是聚合POM，又是父 POM，这么做主要是为了方便</p>
</blockquote>
<h2 id="Maven可继承的POM-元素"><a href="#Maven可继承的POM-元素" class="headerlink" title="Maven可继承的POM 元素"></a>Maven可继承的POM 元素</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">groupId ：项目组 ID ，项目坐标的核心元素；  </span><br><span class="line">version ：项目版本，项目坐标的核心元素；  </span><br><span class="line">description ：项目的描述信息；  </span><br><span class="line">organization ：项目的组织信息；  </span><br><span class="line">inceptionYear ：项目的创始年份；  </span><br><span class="line">url ：项目的 url 地址  </span><br><span class="line">develoers ：项目的开发者信息；  </span><br><span class="line">contributors ：项目的贡献者信息；  </span><br><span class="line">distributionManagerment ：项目的部署信息；  </span><br><span class="line">issueManagement ：缺陷跟踪系统信息；  </span><br><span class="line">ciManagement ：项目的持续继承信息；  </span><br><span class="line">scm ：项目的版本控制信息；  </span><br><span class="line">mailingListserv ：项目的邮件列表信息；  </span><br><span class="line">properties ：自定义的 Maven 属性；  </span><br><span class="line">dependencies ：项目的依赖配置；  </span><br><span class="line">dependencyManagement ：项目的依赖管理配置；  </span><br><span class="line">repositories ：项目的仓库配置；  </span><br><span class="line">build ：包括项目的源码目录配置、输出目录配置、插件配置、插件管理配置等；  </span><br><span class="line">reporting ：包括项目的报告输出目录配置、报告插件配置等。</span><br></pre></td></tr></table></figure>











<h1 id="Maven的pom-xml文件结构之Build配置build"><a href="#Maven的pom-xml文件结构之Build配置build" class="headerlink" title="Maven的pom.xml文件结构之Build配置build"></a>Maven的pom.xml文件结构之Build配置build</h1><p>在Maven的pom.xml文件中，Build相关配置包含两个部分，一个是<code>&lt;build&gt;</code>，另一个是<code>&lt;reporting&gt;</code>，这里我们只介绍<code>&lt;build&gt;</code>。</p>
<ol>
<li><code>在Maven的pom.xml文件中，存在如下两种</code><build>&#96;：</build></li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0&quot;</span>  </span></span><br><span class="line"><span class="tag">  <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>  </span></span><br><span class="line"><span class="tag">  <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</span>&gt;</span>  </span><br><span class="line">  ...  </span><br><span class="line">  <span class="comment">&lt;!-- &quot;Project Build&quot; contains elements of the BaseBuild set and the Build set--&gt;</span>  </span><br><span class="line">  <span class="tag">&lt;<span class="name">build</span>&gt;</span>...<span class="tag">&lt;/<span class="name">build</span>&gt;</span>  </span><br><span class="line">   </span><br><span class="line">  <span class="tag">&lt;<span class="name">profiles</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">profile</span>&gt;</span>  </span><br><span class="line">      <span class="comment">&lt;!-- &quot;Profile Build&quot; contains elements of the BaseBuild set only --&gt;</span>  </span><br><span class="line">      <span class="tag">&lt;<span class="name">build</span>&gt;</span>...<span class="tag">&lt;/<span class="name">build</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;/<span class="name">profile</span>&gt;</span>  </span><br><span class="line">  <span class="tag">&lt;/<span class="name">profiles</span>&gt;</span>  </span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span> </span><br></pre></td></tr></table></figure>

<blockquote>
<p>说明：</p>
<p>一种<code>&lt;build&gt;</code>被称为<code>Project Build</code>，即是<code>&lt;project&gt;</code>的直接子元素。另一种<code>&lt;build&gt;</code>被称为<code>Profile Build</code>，即是<code>&lt;profile&gt;</code>的直接子元素。</p>
<p><code>Profile Build</code>包含了基本的<code>build</code>元素，而<code>Project Build</code>还包含两个特殊的元素，即各种<code>&lt;...Directory&gt;</code>和<code>&lt;extensions&gt;</code>。</p>
</blockquote>
<ol start="2">
<li><code>Profile Build</code>和<code>Project Build</code>共用的基本<code>build</code>元素</li>
</ol>
<ol>
<li>示例如下：</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">build</span>&gt;</span>  </span><br><span class="line">  <span class="tag">&lt;<span class="name">defaultGoal</span>&gt;</span>install<span class="tag">&lt;/<span class="name">defaultGoal</span>&gt;</span>  </span><br><span class="line">  <span class="tag">&lt;<span class="name">directory</span>&gt;</span>$&#123;basedir&#125;/target<span class="tag">&lt;/<span class="name">directory</span>&gt;</span>  </span><br><span class="line">  <span class="tag">&lt;<span class="name">finalName</span>&gt;</span>$&#123;artifactId&#125;-$&#123;version&#125;<span class="tag">&lt;/<span class="name">finalName</span>&gt;</span>  </span><br><span class="line">  ...  </span><br><span class="line"><span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>说明：</p>
<ul>
<li><code>defaultGoal</code>，执行构建时默认的<code>goal</code>或<code>phase</code>，如<code>jar:jar</code>或者<code>package</code>等</li>
<li><code>directory</code>，构建的结果所在的路径，默认为<code>$&#123;basedir&#125;/target</code>目录</li>
<li><code>finalName</code>，构建的最终结果的名字，该名字可能在其他<code>plugin</code>中被改变</li>
</ul>
</blockquote>
<ol start="2">
<li><code>&lt;resources&gt;</code></li>
</ol>
<p>资源往往不是代码，无需编译，而是一些<code>properties</code>或<code>XML</code>配置文件，构建过程中会往往会将资源文件从源路径复制到指定的目标路径。</p>
<p><code>&lt;resources&gt;</code>给出各个资源在Maven项目中的具体路径。示例如下：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">build</span>&gt;</span>  </span><br><span class="line">  ...  </span><br><span class="line">  <span class="tag">&lt;<span class="name">filters</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">filter</span>&gt;</span>filters/filter1.properties<span class="tag">&lt;/<span class="name">filter</span>&gt;</span>  </span><br><span class="line">  <span class="tag">&lt;/<span class="name">filters</span>&gt;</span>  </span><br><span class="line">  <span class="tag">&lt;<span class="name">resources</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">resource</span>&gt;</span>  </span><br><span class="line">      <span class="tag">&lt;<span class="name">targetPath</span>&gt;</span>META-INF/plexus<span class="tag">&lt;/<span class="name">targetPath</span>&gt;</span>  </span><br><span class="line">      <span class="tag">&lt;<span class="name">filtering</span>&gt;</span>false<span class="tag">&lt;/<span class="name">filtering</span>&gt;</span>  </span><br><span class="line">      <span class="tag">&lt;<span class="name">directory</span>&gt;</span>$&#123;basedir&#125;/src/main/plexus<span class="tag">&lt;/<span class="name">directory</span>&gt;</span>  </span><br><span class="line">      <span class="tag">&lt;<span class="name">includes</span>&gt;</span>  </span><br><span class="line">        <span class="tag">&lt;<span class="name">include</span>&gt;</span>configuration.xml<span class="tag">&lt;/<span class="name">include</span>&gt;</span>  </span><br><span class="line">      <span class="tag">&lt;/<span class="name">includes</span>&gt;</span>  </span><br><span class="line">      <span class="tag">&lt;<span class="name">excludes</span>&gt;</span>  </span><br><span class="line">        <span class="tag">&lt;<span class="name">exclude</span>&gt;</span>**/*.properties<span class="tag">&lt;/<span class="name">exclude</span>&gt;</span>  </span><br><span class="line">      <span class="tag">&lt;/<span class="name">excludes</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;/<span class="name">resource</span>&gt;</span>  </span><br><span class="line">  <span class="tag">&lt;/<span class="name">resources</span>&gt;</span>  </span><br><span class="line">  <span class="tag">&lt;<span class="name">testResources</span>&gt;</span>  </span><br><span class="line">    ...  </span><br><span class="line">  <span class="tag">&lt;/<span class="name">testResources</span>&gt;</span>  </span><br><span class="line">  ...  </span><br><span class="line"><span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>说明：</p>
<ul>
<li><code>resources</code>，<code>build</code>过程中涉及的资源文件<ul>
<li><code>targetPath</code>，资源文件的目标路径</li>
<li><code>filtering</code>，构建过程中是否对资源进行过滤，默认<code>false</code></li>
<li><code>directory</code>，资源文件的路径，默认位于<code>$&#123;basedir&#125;/src/main/resources/</code>目录下</li>
<li><code>includes</code>，一组文件名的匹配模式，被匹配的资源文件将被构建过程处理</li>
<li><code>excludes</code>，一组文件名的匹配模式，被匹配的资源文件将被构建过程忽略。同时被<code>includes</code>和<code>excludes</code>匹配的资源文件，<strong>将被忽略</strong>。</li>
</ul>
</li>
<li><code>filters</code>，给出对资源文件进行过滤的属性文件的路径，默认位于<code>$&#123;basedir&#125;/src/main/filters/</code>目录下。属性文件中定义若干键值对。在构建过程中，对于资源文件中出现的变量（键），将使用属性文件中该键对应的值替换。</li>
<li><code>testResources</code>，<code>test</code>过程中涉及的资源文件，默认位于<code>$&#123;basedir&#125;/src/test/resources/</code>目录下。这里的资源文件不会被构建到目标构件中</li>
</ul>
</blockquote>
<ol start="3">
<li><code>&lt;plugins&gt;</code></li>
</ol>
<p><code>&lt;plugins&gt;</code>给出构建过程中所用到的插件。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">build</span>&gt;</span>  </span><br><span class="line">  ...  </span><br><span class="line">  <span class="tag">&lt;<span class="name">plugins</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">plugin</span>&gt;</span>  </span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span>  </span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-jar-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span>  </span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.6<span class="tag">&lt;/<span class="name">version</span>&gt;</span>  </span><br><span class="line">      <span class="tag">&lt;<span class="name">extensions</span>&gt;</span>false<span class="tag">&lt;/<span class="name">extensions</span>&gt;</span>  </span><br><span class="line">      <span class="tag">&lt;<span class="name">inherited</span>&gt;</span>true<span class="tag">&lt;/<span class="name">inherited</span>&gt;</span>  </span><br><span class="line">      <span class="tag">&lt;<span class="name">configuration</span>&gt;</span>  </span><br><span class="line">        <span class="tag">&lt;<span class="name">classifier</span>&gt;</span>test<span class="tag">&lt;/<span class="name">classifier</span>&gt;</span>  </span><br><span class="line">      <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span>  </span><br><span class="line">      <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span>...<span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span>  </span><br><span class="line">      <span class="tag">&lt;<span class="name">executions</span>&gt;</span>...<span class="tag">&lt;/<span class="name">executions</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span>  </span><br><span class="line">  <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span>  </span><br><span class="line"><span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>说明：</p>
<ul>
<li><code>groupId</code></li>
<li><code>artifactId</code></li>
<li><code>version</code></li>
<li><code>extensions</code>，是否加载该插件的扩展，默认<code>false</code></li>
<li><code>inherited</code>，该插件的<code>configuration</code>中的配置是否可以被（继承该POM的其他Maven项目）继承，默认<code>true</code>【是否可被继承】</li>
<li><code>configuration</code>，该插件所需要的特殊配置，在父子项目之间可以<strong>覆盖</strong>或<strong>合并</strong></li>
<li><code>dependencies</code>，该插件所特有的依赖类库</li>
<li><code>executions</code>，该插件的某个<code>goal</code>（一个插件中可能包含多个<code>goal</code>）的执行方式。一个<code>execution</code>有如下设置：<ul>
<li><code>id</code>，唯一标识</li>
<li><code>goals</code>，要执行的插件的<code>goal</code>（可以有多个），如<code>&lt;goal&gt;run&lt;/goal&gt;</code></li>
<li><code>phase</code>，插件的<code>goal</code>要嵌入到<code>Maven</code>的<code>phase</code>中执行，如<code>verify</code></li>
<li><code>inherited</code>，该<code>execution</code>是否可被子项目继承</li>
<li><code>configuration</code>，该<code>execution</code>的其他配置参数</li>
</ul>
</li>
</ul>
</blockquote>
<ol start="4">
<li><code>&lt;pluginManagement&gt;</code></li>
</ol>
<p>在<code>&lt;build&gt;</code>中，<code>&lt;pluginManagement&gt;</code>与<code>&lt;plugins&gt;</code>并列，两者之间的关系类似于<code>&lt;dependencyManagement&gt;</code>与<code>&lt;dependencies&gt;</code>之间的关系。<code>&lt;pluginManagement&gt;</code>中也配置<code>&lt;plugin&gt;</code>，其配置参数与<code>&lt;plugins&gt;</code>中的<code>&lt;plugin&gt;</code>完全一致。只是，<code>&lt;pluginManagement&gt;</code>往往出现在父项目中，其中配置的<code>&lt;plugin&gt;</code>往往通用于子项目。子项目中只要在<code>&lt;plugins&gt;</code>中以<code>&lt;plugin&gt;</code>声明该插件，该插件的具体配置参数则继承自父项目中<code>&lt;pluginManagement&gt;</code>对该插件的配置，从而避免在子项目中进行重复配置。</p>
<ol start="3">
<li><code>Project Build</code>特有的<code>&lt;...Directory&gt;</code></li>
</ol>
<p>往往配置在父项目中，供所有父子项目使用。示例如下：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">build</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">sourceDirectory</span>&gt;</span>$&#123;basedir&#125;/src/main/java<span class="tag">&lt;/<span class="name">sourceDirectory</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">scriptSourceDirectory</span>&gt;</span>$&#123;basedir&#125;/src/main/scripts<span class="tag">&lt;/<span class="name">scriptSourceDirectory</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">testSourceDirectory</span>&gt;</span>$&#123;basedir&#125;/src/test/java<span class="tag">&lt;/<span class="name">testSourceDirectory</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">outputDirectory</span>&gt;</span>$&#123;basedir&#125;/target/classes<span class="tag">&lt;/<span class="name">outputDirectory</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">testOutputDirectory</span>&gt;</span>$&#123;basedir&#125;/target/test-classes<span class="tag">&lt;/<span class="name">testOutputDirectory</span>&gt;</span>  </span><br><span class="line">    ...  </span><br><span class="line">  <span class="tag">&lt;/<span class="name">build</span>&gt;</span>  </span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span> </span><br></pre></td></tr></table></figure>

<blockquote>
<p>目录可以使用绝对路径，如示例所示。如果使用相对路径，则所有的相对路径都是在${basedir}目录下。</p>
</blockquote>
<ol start="4">
<li>Project Build特有的<code>&lt;extensions&gt;</code></li>
</ol>
<p><code>&lt;extensions&gt;</code>是执行构建过程中可能用到的其他工具，在执行构建的过程中被加入到<code>classpath</code>中。<br>也可以通过<code>&lt;extensions&gt;</code>激活构建插件，从而改变构建的过程。<br>通常，通过<code>&lt;extensions&gt;</code>给出通用插件的一个具体实现，用于构建过程。<br><code>&lt;extensions&gt;</code>的使用示例如下：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">build</span>&gt;</span>  </span><br><span class="line">  ...  </span><br><span class="line">  <span class="tag">&lt;<span class="name">extensions</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">extension</span>&gt;</span>  </span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.maven.wagon<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span>  </span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>wagon-ftp<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span>  </span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-alpha-3<span class="tag">&lt;/<span class="name">version</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;/<span class="name">extension</span>&gt;</span>  </span><br><span class="line">  <span class="tag">&lt;/<span class="name">extensions</span>&gt;</span>  </span><br><span class="line">  ...  </span><br><span class="line"><span class="tag">&lt;/<span class="name">build</span>&gt;</span>  </span><br><span class="line">t;/project&gt;</span><br></pre></td></tr></table></figure>



<h1 id="Maven命令"><a href="#Maven命令" class="headerlink" title="Maven命令"></a>Maven命令</h1><h2 id="常用命令"><a href="#常用命令" class="headerlink" title="常用命令"></a><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/6f91752f3962">常用命令</a></h2><table>
<thead>
<tr>
<th>命令</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td><code>mvn –version</code></td>
<td>显示版本信息</td>
</tr>
<tr>
<td><code>mvn clean</code></td>
<td>清理项目生产的临时文件,一般是模块下的&#96;target目录</td>
</tr>
<tr>
<td><code>mvn compile</code></td>
<td>编译源代码，一般编译模块下的<code>src/main/java</code>目录</td>
</tr>
<tr>
<td><code>mvn package</code></td>
<td>项目打包工具,会在模块下的<code>target</code>目录生成<code>jar</code>或<code>war</code>等文件</td>
</tr>
<tr>
<td><code>mvn test</code></td>
<td>测试命令,或执行<code>src/test/java/下junit</code>的测试用例.</td>
</tr>
<tr>
<td><code>mvn install</code></td>
<td>将打包的<code>jar/war</code>文件复制到你的本地仓库中,供其他模块使用</td>
</tr>
<tr>
<td><code>mvn deploy</code></td>
<td>将打包的文件发布到远程参考,提供其他人员进行下载依赖</td>
</tr>
<tr>
<td><code>mvn site</code></td>
<td>生成项目相关信息的网站</td>
</tr>
<tr>
<td><code>mvn eclipse:eclipse</code></td>
<td>将项目转化为Eclipse项目</td>
</tr>
<tr>
<td><code>mvn dependency:tree</code></td>
<td>打印出项目的整个依赖树</td>
</tr>
<tr>
<td><code>mvn archetype:generate</code></td>
<td>创建Maven的普通java项目</td>
</tr>
<tr>
<td><code>mvn tomcat:run</code></td>
<td>在tomcat容器中运行web应用</td>
</tr>
<tr>
<td><code>mvn jetty:run</code></td>
<td>调用 Jetty 插件的 Run 目标在 Jetty Servlet 容器中启动 web 应用</td>
</tr>
</tbody></table>
<blockquote>
<p>注意：运行maven命令的时候，首先需要定位到maven项目的目录，也就是项目的pom.xml文件所在的目录。否则，必以通过参数来指定项目的目录。</p>
</blockquote>
<h2 id="命令参数"><a href="#命令参数" class="headerlink" title="命令参数"></a>命令参数</h2><h3 id="D-传入属性参数"><a href="#D-传入属性参数" class="headerlink" title="-D 传入属性参数"></a>-D 传入属性参数</h3><p>如：</p>
<figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mvn <span class="keyword">package</span> -Dmaven.test.skip=<span class="literal">true</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>以<code>-D</code>开头，将<code>maven.test.skip</code>的值设为<code>true</code>，告诉maven打包的时候跳过单元测试。</p>
<p>同理<code>mvn deploy -Dmaven.test.skip=true</code>，部署项目时跳过单元测试。</p>
</blockquote>
<h3 id="P-使用指定的-Profile-配置"><a href="#P-使用指定的-Profile-配置" class="headerlink" title="-P 使用指定的 Profile 配置"></a>-P 使用指定的 Profile 配置</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">profiles</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">profile</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">id</span>&gt;</span>dev<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">env</span>&gt;</span>dev<span class="tag">&lt;/<span class="name">env</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">activation</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">activeByDefault</span>&gt;</span>true<span class="tag">&lt;/<span class="name">activeByDefault</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;/<span class="name">activation</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">profile</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">profile</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">id</span>&gt;</span>qa<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">env</span>&gt;</span>qa<span class="tag">&lt;/<span class="name">env</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">profile</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">profile</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">id</span>&gt;</span>pre<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">env</span>&gt;</span>pre<span class="tag">&lt;/<span class="name">env</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">profile</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">profile</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">id</span>&gt;</span>prod<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">env</span>&gt;</span>prod<span class="tag">&lt;/<span class="name">env</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">profile</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">profiles</span>&gt;</span></span><br><span class="line"> </span><br><span class="line">......</span><br><span class="line"> </span><br><span class="line"><span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">filters</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">filter</span>&gt;</span>config/$&#123;env&#125;.properties<span class="tag">&lt;/<span class="name">filter</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">filters</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">resources</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">resource</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">directory</span>&gt;</span>src/main/resources<span class="tag">&lt;/<span class="name">directory</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">filtering</span>&gt;</span>true<span class="tag">&lt;/<span class="name">filtering</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;/<span class="name">resource</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">resources</span>&gt;</span></span><br><span class="line"> </span><br><span class="line">      ......</span><br><span class="line"> </span><br><span class="line"><span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><code>profiles</code>定义了各个环境的变量<code>id</code>，<code>filters</code>中定义了变量配置文件的地址，其中地址中的环境变量就是上面<code>profile</code>中定义的值，<code>resources</code>中是定义哪些目录下的文件会被配置文件中定义的变量替换。</p>
<p>通过maven可以实现按不同环境进行打包部署，命令为:</p>
<figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mvn <span class="keyword">package</span> <span class="title">-P dev</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p><code>dev</code>为环境变量id，代表使用Id为<code>dev</code>的<code>profile</code></p>
</blockquote>
<h3 id="e-显示-maven-运行出错的信息"><a href="#e-显示-maven-运行出错的信息" class="headerlink" title="-e 显示 maven 运行出错的信息"></a>-e 显示 maven 运行出错的信息</h3><h3 id="o-离线执行命令，即不去远程仓库更新包"><a href="#o-离线执行命令，即不去远程仓库更新包" class="headerlink" title="-o 离线执行命令，即不去远程仓库更新包"></a>-o 离线执行命令，即不去远程仓库更新包</h3><h3 id="X-显示-maven-允许的debug信息"><a href="#X-显示-maven-允许的debug信息" class="headerlink" title="-X 显示 maven 允许的debug信息"></a>-X 显示 maven 允许的debug信息</h3><h3 id="U-强制去远程更新snapshot的插件或依赖，默认每天只更新一次"><a href="#U-强制去远程更新snapshot的插件或依赖，默认每天只更新一次" class="headerlink" title="-U 强制去远程更新snapshot的插件或依赖，默认每天只更新一次"></a>-U 强制去远程更新snapshot的插件或依赖，默认每天只更新一次</h3><h2 id="Maven命令实例"><a href="#Maven命令实例" class="headerlink" title="Maven命令实例"></a>Maven命令实例</h2><h3 id="创建Maven的普通java项目"><a href="#创建Maven的普通java项目" class="headerlink" title="创建Maven的普通java项目"></a>创建Maven的普通java项目</h3><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mvn archetype:create <span class="attribute">-DgroupId</span>=packageName <span class="attribute">-DartifactId</span>=projectName </span><br></pre></td></tr></table></figure>

<h3 id="创建Maven的Web项目"><a href="#创建Maven的Web项目" class="headerlink" title="创建Maven的Web项目"></a>创建Maven的Web项目</h3><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mvn archetype:create <span class="attribute">-DgroupId</span>=packageName <span class="attribute">-DartifactId</span>=webappName <span class="attribute">-DarchetypeArtifactId</span>=maven-archetype-webapp </span><br></pre></td></tr></table></figure>

<h3 id="编译源代码"><a href="#编译源代码" class="headerlink" title="编译源代码"></a>编译源代码</h3><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">mvn</span> compile</span><br></pre></td></tr></table></figure>

<h3 id="编译测试代码"><a href="#编译测试代码" class="headerlink" title="编译测试代码"></a>编译测试代码</h3><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">mvn</span> test-compile</span><br></pre></td></tr></table></figure>

<h3 id="运行测试"><a href="#运行测试" class="headerlink" title="运行测试"></a>运行测试</h3><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">mvn</span> test</span><br></pre></td></tr></table></figure>

<h3 id="产生site"><a href="#产生site" class="headerlink" title="产生site"></a>产生site</h3><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">mvn</span> site</span><br></pre></td></tr></table></figure>

<h3 id="打包"><a href="#打包" class="headerlink" title="打包"></a>打包</h3><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mvn <span class="keyword">package</span> <span class="title"></span></span><br></pre></td></tr></table></figure>

<h3 id="在本地Repository中安装jar"><a href="#在本地Repository中安装jar" class="headerlink" title="在本地Repository中安装jar"></a>在本地Repository中安装jar</h3><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">mvn</span> install</span><br></pre></td></tr></table></figure>

<h3 id="清除产生的项目"><a href="#清除产生的项目" class="headerlink" title="清除产生的项目"></a>清除产生的项目</h3><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">mvn</span> clean</span><br></pre></td></tr></table></figure>

<h3 id="生成eclipse项目"><a href="#生成eclipse项目" class="headerlink" title="生成eclipse项目"></a>生成eclipse项目</h3><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">mvn</span> eclipse:eclipse</span><br></pre></td></tr></table></figure>

<h3 id="生成idea项目"><a href="#生成idea项目" class="headerlink" title="生成idea项目"></a>生成idea项目</h3><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">mvn</span> idea:idea </span><br></pre></td></tr></table></figure>

<h3 id="组合使用goal命令，如只打包不测试"><a href="#组合使用goal命令，如只打包不测试" class="headerlink" title="组合使用goal命令，如只打包不测试"></a>组合使用goal命令，如只打包不测试</h3><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mvn -Dtest <span class="keyword">package</span></span><br></pre></td></tr></table></figure>

<h3 id="编译测试的内容"><a href="#编译测试的内容" class="headerlink" title="编译测试的内容"></a>编译测试的内容</h3><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">mvn</span> test-compile</span><br></pre></td></tr></table></figure>

<h3 id="只打jar包"><a href="#只打jar包" class="headerlink" title="只打jar包:"></a>只打jar包:</h3><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">mvn</span> jar:jar</span><br></pre></td></tr></table></figure>

<h3 id="只测试而不编译，也不测试编译"><a href="#只测试而不编译，也不测试编译" class="headerlink" title="只测试而不编译，也不测试编译"></a>只测试而不编译，也不测试编译</h3><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mvn <span class="keyword">test</span> -skipping compile -skipping <span class="keyword">test</span>-compile</span><br></pre></td></tr></table></figure>

<blockquote>
<p>-skipping 的灵活运用，当然也可以用于其他组合命令</p>
</blockquote>
<h3 id="清除eclipse的一些系统设置"><a href="#清除eclipse的一些系统设置" class="headerlink" title="清除eclipse的一些系统设置"></a>清除eclipse的一些系统设置</h3><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">mvn</span> eclipse:clean</span><br></pre></td></tr></table></figure>

<!-- flag of hidden posts -->
      
    </div>
    
    
    

    

    
      <div>
        <div style="padding: 10px 0; margin: 20px auto; width: 90%; text-align: center;">
  <div>请我喝杯奶茶吧~</div>
  <button id="rewardButton" disable="enable" onclick="var qr = document.getElementById('QR'); if (qr.style.display === 'none') {qr.style.display='block';} else {qr.style.display='none'}">
    <span>Donate</span>
  </button>
  <div id="QR" style="display: none;">

    
      <div id="wechat" style="display: inline-block">
        <img id="wechat_qr" src="/images/wechatpay.jpg" alt=" WeChat Pay"/>
        <p>WeChat Pay</p>
      </div>
    

    

    

  </div>
</div>

      </div>
    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/private/" rel="tag"># private</a>
          
            <a href="/tags/%E5%B7%A5%E5%85%B7/" rel="tag"># 工具</a>
          
        </div>
      

      
      
      

      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            Overview
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/avatar.jpg"
                alt="" />
            
              <p class="site-author-name" itemprop="name"></p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">135</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">14</span>
                  <span class="site-state-item-name">categories</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">38</span>
                  <span class="site-state-item-name">tags</span>
                </a>
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="mailto:shenbh@qq.com" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://blog.csdn.net/ptwenzi?spm=1010.2135.3001.5113" target="_blank" title="CSDN">
                      
                        <i class="fa fa-fw fa-clone"></i>CSDN</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/shenbh" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://gitee.com/shen_bh" target="_blank" title="Gitee">
                      
                        <i class="fa fa-fw fa-git"></i>Gitee</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Maven%E6%9B%B4%E6%96%B0"><span class="nav-text">Maven更新</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9B%B4%E6%96%B0%E6%9C%AC%E5%9C%B0maven%E5%BA%93"><span class="nav-text">更新本地maven库</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9B%B4%E6%96%B0Maven%E4%BB%93%E5%BA%93"><span class="nav-text">更新Maven仓库</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Maven%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E8%AF%A6%E8%A7%A3"><span class="nav-text">Maven生命周期详解</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Maven%E8%81%9A%E5%90%88%E4%B8%8E%E7%BB%A7%E6%89%BF"><span class="nav-text">Maven聚合与继承</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%81%9A%E5%90%88"><span class="nav-text">聚合</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BB%A7%E6%89%BF"><span class="nav-text">继承</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%81%9A%E5%90%88%E4%B8%8E%E7%BB%A7%E6%89%BF%E7%9A%84%E5%85%B3%E7%B3%BB"><span class="nav-text">聚合与继承的关系</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Maven%E5%8F%AF%E7%BB%A7%E6%89%BF%E7%9A%84POM-%E5%85%83%E7%B4%A0"><span class="nav-text">Maven可继承的POM 元素</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Maven%E7%9A%84pom-xml%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84%E4%B9%8BBuild%E9%85%8D%E7%BD%AEbuild"><span class="nav-text">Maven的pom.xml文件结构之Build配置build</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Maven%E5%91%BD%E4%BB%A4"><span class="nav-text">Maven命令</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4"><span class="nav-text">常用命令</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%91%BD%E4%BB%A4%E5%8F%82%E6%95%B0"><span class="nav-text">命令参数</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#D-%E4%BC%A0%E5%85%A5%E5%B1%9E%E6%80%A7%E5%8F%82%E6%95%B0"><span class="nav-text">-D 传入属性参数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#P-%E4%BD%BF%E7%94%A8%E6%8C%87%E5%AE%9A%E7%9A%84-Profile-%E9%85%8D%E7%BD%AE"><span class="nav-text">-P 使用指定的 Profile 配置</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#e-%E6%98%BE%E7%A4%BA-maven-%E8%BF%90%E8%A1%8C%E5%87%BA%E9%94%99%E7%9A%84%E4%BF%A1%E6%81%AF"><span class="nav-text">-e 显示 maven 运行出错的信息</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#o-%E7%A6%BB%E7%BA%BF%E6%89%A7%E8%A1%8C%E5%91%BD%E4%BB%A4%EF%BC%8C%E5%8D%B3%E4%B8%8D%E5%8E%BB%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93%E6%9B%B4%E6%96%B0%E5%8C%85"><span class="nav-text">-o 离线执行命令，即不去远程仓库更新包</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#X-%E6%98%BE%E7%A4%BA-maven-%E5%85%81%E8%AE%B8%E7%9A%84debug%E4%BF%A1%E6%81%AF"><span class="nav-text">-X 显示 maven 允许的debug信息</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#U-%E5%BC%BA%E5%88%B6%E5%8E%BB%E8%BF%9C%E7%A8%8B%E6%9B%B4%E6%96%B0snapshot%E7%9A%84%E6%8F%92%E4%BB%B6%E6%88%96%E4%BE%9D%E8%B5%96%EF%BC%8C%E9%BB%98%E8%AE%A4%E6%AF%8F%E5%A4%A9%E5%8F%AA%E6%9B%B4%E6%96%B0%E4%B8%80%E6%AC%A1"><span class="nav-text">-U 强制去远程更新snapshot的插件或依赖，默认每天只更新一次</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Maven%E5%91%BD%E4%BB%A4%E5%AE%9E%E4%BE%8B"><span class="nav-text">Maven命令实例</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%9B%E5%BB%BAMaven%E7%9A%84%E6%99%AE%E9%80%9Ajava%E9%A1%B9%E7%9B%AE"><span class="nav-text">创建Maven的普通java项目</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%9B%E5%BB%BAMaven%E7%9A%84Web%E9%A1%B9%E7%9B%AE"><span class="nav-text">创建Maven的Web项目</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BC%96%E8%AF%91%E6%BA%90%E4%BB%A3%E7%A0%81"><span class="nav-text">编译源代码</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BC%96%E8%AF%91%E6%B5%8B%E8%AF%95%E4%BB%A3%E7%A0%81"><span class="nav-text">编译测试代码</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%BF%90%E8%A1%8C%E6%B5%8B%E8%AF%95"><span class="nav-text">运行测试</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BA%A7%E7%94%9Fsite"><span class="nav-text">产生site</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%89%93%E5%8C%85"><span class="nav-text">打包</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9C%A8%E6%9C%AC%E5%9C%B0Repository%E4%B8%AD%E5%AE%89%E8%A3%85jar"><span class="nav-text">在本地Repository中安装jar</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B8%85%E9%99%A4%E4%BA%A7%E7%94%9F%E7%9A%84%E9%A1%B9%E7%9B%AE"><span class="nav-text">清除产生的项目</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%94%9F%E6%88%90eclipse%E9%A1%B9%E7%9B%AE"><span class="nav-text">生成eclipse项目</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%94%9F%E6%88%90idea%E9%A1%B9%E7%9B%AE"><span class="nav-text">生成idea项目</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BB%84%E5%90%88%E4%BD%BF%E7%94%A8goal%E5%91%BD%E4%BB%A4%EF%BC%8C%E5%A6%82%E5%8F%AA%E6%89%93%E5%8C%85%E4%B8%8D%E6%B5%8B%E8%AF%95"><span class="nav-text">组合使用goal命令，如只打包不测试</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BC%96%E8%AF%91%E6%B5%8B%E8%AF%95%E7%9A%84%E5%86%85%E5%AE%B9"><span class="nav-text">编译测试的内容</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8F%AA%E6%89%93jar%E5%8C%85"><span class="nav-text">只打jar包:</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8F%AA%E6%B5%8B%E8%AF%95%E8%80%8C%E4%B8%8D%E7%BC%96%E8%AF%91%EF%BC%8C%E4%B9%9F%E4%B8%8D%E6%B5%8B%E8%AF%95%E7%BC%96%E8%AF%91"><span class="nav-text">只测试而不编译，也不测试编译</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B8%85%E9%99%A4eclipse%E7%9A%84%E4%B8%80%E4%BA%9B%E7%B3%BB%E7%BB%9F%E8%AE%BE%E7%BD%AE"><span class="nav-text">清除eclipse的一些系统设置</span></a></li></ol></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      
        <div class="back-to-top">
          <i class="fa fa-arrow-up"></i>
          
            <span id="scrollpercent"><span>0</span>%</span>
          
        </div>
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; 2018 &mdash; <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">阿炳</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Gemini</a> v5.1.4</div>




        







        
      </div>
    </footer>

    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('-1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  
  

  

  

  

  
  <style>
    .copy-btn {
      display: inline-block;
      padding: 6px 12px;
      font-size: 13px;
      font-weight: 700;
      line-height: 20px;
      color: #333;
      white-space: nowrap;
      vertical-align: middle;
      cursor: pointer;
      background-color: #eee;
      background-image: linear-gradient(#fcfcfc, #eee);
      border: 1px solid #d5d5d5;
      border-radius: 3px;
      user-select: none;
      outline: 0;
    }

    .highlight-wrap .copy-btn {
      transition: opacity .3s ease-in-out;
      opacity: 0;
      padding: 2px 6px;
      position: absolute;
      right: 4px;
      top: 8px;
    }

    .highlight-wrap:hover .copy-btn,
    .highlight-wrap .copy-btn:focus {
      opacity: 1
    }

    .highlight-wrap {
      position: relative;
    }
  </style>
  
  <script>
    $('.highlight').each(function (i, e) {
      var $wrap = $('<div>').addClass('highlight-wrap')
      $(e).after($wrap)
      $wrap.append($('<button>').addClass('copy-btn').append('Copy').on('click', function (e) {
        var code = $(this).parent().find('.code').find('.line').map(function (i, e) {
          return $(e).text()
        }).toArray().join('\n')
        var ta = document.createElement('textarea')
        document.body.appendChild(ta)
        ta.style.position = 'absolute'
        ta.style.top = '0px'
        ta.style.left = '0px'
        ta.value = code
        ta.select()
        ta.focus()
        var result = document.execCommand('copy')
        document.body.removeChild(ta)
        
          if(result)$(this).text('Copied')
          else $(this).text('Copy failed')
        
        $(this).blur()
      })).on('mouseleave', function (e) {
        var $b = $(this).find('.copy-btn')
        setTimeout(function () {
          $b.text('Copy')
        }, 300)
      }).append(e)
    })
  </script>

<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body>
</html>
<!-- 页面点击小红心 -->
<script type="text/javascript" src="/js/src/clicklove.js"></script>