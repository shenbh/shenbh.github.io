<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="zh-CN">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="private,笔记," />










<meta name="description" content="DataView Doc 代码块中需要标记是dataview类型 有四种查询类型：LIST、TABLE、TASK、CALENDAR 示例  开篇-Dataview基本语法简单示例 把满足今天的日期减去创建文件的日期小于等于三天的文件，按照倒序排列，以表格的形式展示满足条件的文件的创建日期12345&#96;&#96;&#96;dataviewTable file.ctime as &quot;创建日期&quot; Whe">
<meta property="og:type" content="article">
<meta property="og:title" content="知识-Obsidian-DataView">
<meta property="og:url" content="http://shenbh.github.io/posts/aa25fedf/index.html">
<meta property="og:site_name" content="积跬步">
<meta property="og:description" content="DataView Doc 代码块中需要标记是dataview类型 有四种查询类型：LIST、TABLE、TASK、CALENDAR 示例  开篇-Dataview基本语法简单示例 把满足今天的日期减去创建文件的日期小于等于三天的文件，按照倒序排列，以表格的形式展示满足条件的文件的创建日期12345&#96;&#96;&#96;dataviewTable file.ctime as &quot;创建日期&quot; Whe">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://shenbh.github.io/posts/aa25fedf/DQL%E4%BB%A3%E7%A0%81%E5%9D%97%E6%9F%A5%E8%AF%A2.png">
<meta property="og:image" content="http://shenbh.github.io/posts/Pkmer-Math-main/%E6%A6%82%E7%8E%87%E8%AE%BA/--%E6%A6%82%E7%8E%87%E8%AE%BA--.md#%5Ee7693f">
<meta property="article:published_time" content="2025-05-29T05:41:42.182Z">
<meta property="article:modified_time" content="2025-06-09T06:45:18.986Z">
<meta property="article:author" content="阿炳">
<meta property="article:tag" content="private">
<meta property="article:tag" content="笔记">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://shenbh.github.io/posts/aa25fedf/DQL%E4%BB%A3%E7%A0%81%E5%9D%97%E6%9F%A5%E8%AF%A2.png">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '',
    scheme: 'Gemini',
    version: '5.1.4',
    sidebar: {"position":"left","display":"always","offset":12,"b2t":true,"scrollpercent":true,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://shenbh.github.io/posts/aa25fedf/"/>





  <title>知识-Obsidian-DataView | 积跬步</title><meta name="robots" content="noindex">
  








<meta name="generator" content="Hexo 6.1.0"></head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">积跬步</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <h1 class="site-subtitle" itemprop="description">Just do IT Now.</h1>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            Search
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off"
             placeholder="Searching..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://shenbh.github.io/posts/aa25fedf/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="积跬步">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">知识-Obsidian-DataView</h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2025-05-29T13:41:42+08:00">
                2025-05-29
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%B7%A5%E5%85%B7/" itemprop="url" rel="index">
                    <span itemprop="name">工具</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="DataView-Doc"><a href="#DataView-Doc" class="headerlink" title="DataView Doc"></a><a target="_blank" rel="noopener" href="https://blacksmithgu.github.io/obsidian-dataview/">DataView Doc</a></h1><ul>
<li>代码块中需要标记是<code>dataview</code>类型</li>
<li>有四种查询类型：<code>LIST</code>、<code>TABLE</code>、<code>TASK</code>、<code>CALENDAR</code></li>
<li><a target="_blank" rel="noopener" href="https://blacksmithgu.github.io/obsidian-dataview/resources/examples/">示例</a></li>
</ul>
<h2 id="开篇-Dataview基本语法"><a href="#开篇-Dataview基本语法" class="headerlink" title="开篇-Dataview基本语法"></a>开篇-Dataview基本语法</h2><h3 id="简单示例"><a href="#简单示例" class="headerlink" title="简单示例"></a><a target="_blank" rel="noopener" href="https://pkmer.cn/Pkmer-Docs/10-obsidian/obsidian%E7%A4%BE%E5%8C%BA%E6%8F%92%E4%BB%B6/dataview/dataview%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95/01---%E7%AE%80%E5%8D%95%E7%A4%BA%E4%BE%8B">简单示例</a></h3><ul>
<li>把满足今天的日期减去创建文件的日期小于等于三天的文件，按照倒序排列，以表格的形式展示满足条件的文件的创建日期<figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">```dataview</span><br><span class="line"><span class="keyword">Table</span> <span class="keyword">file</span>.ctime <span class="keyword">as</span> <span class="string">&quot;创建日期&quot;</span> </span><br><span class="line">Where <span class="built_in">date</span>(today) - <span class="keyword">file</span>.ctime &lt;= dur(3 day)</span><br><span class="line"><span class="keyword">Sort</span> <span class="keyword">file</span>.ctime <span class="keyword">desc</span> </span><br><span class="line">```</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="Metadata-元数据"><a href="#Metadata-元数据" class="headerlink" title="Metadata 元数据"></a><a target="_blank" rel="noopener" href="https://pkmer.cn/Pkmer-Docs/10-obsidian/obsidian%E7%A4%BE%E5%8C%BA%E6%8F%92%E4%BB%B6/dataview/dataview%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95/10---metadata-%E5%85%83%E6%95%B0%E6%8D%AE">Metadata 元数据</a></h3><h3 id="添加元数据至文件"><a href="#添加元数据至文件" class="headerlink" title="添加元数据至文件"></a><a target="_blank" rel="noopener" href="https://pkmer.cn/Pkmer-Docs/10-obsidian/obsidian%E7%A4%BE%E5%8C%BA%E6%8F%92%E4%BB%B6/dataview/dataview%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95/11---%E6%B7%BB%E5%8A%A0%E5%85%83%E6%95%B0%E6%8D%AE%E8%87%B3%E6%96%87%E4%BB%B6/">添加元数据至文件</a></h3><h3 id="添加元数据至列表和任务"><a href="#添加元数据至列表和任务" class="headerlink" title="添加元数据至列表和任务"></a><a target="_blank" rel="noopener" href="https://pkmer.cn/Pkmer-Docs/10-obsidian/obsidian%E7%A4%BE%E5%8C%BA%E6%8F%92%E4%BB%B6/dataview/dataview%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95/12---%E6%B7%BB%E5%8A%A0%E5%85%83%E6%95%B0%E6%8D%AE%E8%87%B3%E5%88%97%E8%A1%A8%E5%92%8C%E4%BB%BB%E5%8A%A1">添加元数据至列表和任务</a></h3><h3 id="Metadata的数据类型"><a href="#Metadata的数据类型" class="headerlink" title="Metadata的数据类型"></a><a target="_blank" rel="noopener" href="https://pkmer.cn/Pkmer-Docs/10-obsidian/obsidian%E7%A4%BE%E5%8C%BA%E6%8F%92%E4%BB%B6/dataview/dataview%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95/13---metadata%E7%9A%84%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/">Metadata的数据类型</a></h3><h3 id="隐式字段"><a href="#隐式字段" class="headerlink" title="隐式字段"></a><a target="_blank" rel="noopener" href="https://pkmer.cn/Pkmer-Docs/10-obsidian/obsidian%E7%A4%BE%E5%8C%BA%E6%8F%92%E4%BB%B6/dataview/dataview%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95/14---%E9%9A%90%E5%BC%8F%E5%AD%97%E6%AE%B5/">隐式字段</a></h3><p>如：file.tasks、file.folder、file.lists.text、</p>
<h3 id="Literals-字面常量"><a href="#Literals-字面常量" class="headerlink" title="Literals 字面常量"></a><a target="_blank" rel="noopener" href="https://pkmer.cn/Pkmer-Docs/10-obsidian/obsidian%E7%A4%BE%E5%8C%BA%E6%8F%92%E4%BB%B6/dataview/dataview%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95/15---literals-%E5%AD%97%E9%9D%A2%E5%B8%B8%E9%87%8F/">Literals 字面常量</a></h3><h4 id="一般字面常量-General"><a href="#一般字面常量-General" class="headerlink" title="一般字面常量 General"></a>一般字面常量 General</h4><table>
<thead>
<tr>
<th>字面常量 Literal</th>
<th>解释 Description</th>
</tr>
</thead>
<tbody><tr>
<td>0</td>
<td>数字 0</td>
</tr>
<tr>
<td>1337</td>
<td>正数 1337</td>
</tr>
<tr>
<td>-200</td>
<td>负数 -200</td>
</tr>
<tr>
<td>The quick brown fox jumps over the lazy dog.</td>
<td>用了 26 个字母的字符串</td>
</tr>
<tr>
<td>[[链接]]</td>
<td>链接</td>
</tr>
<tr>
<td>[[]]</td>
<td>指向本文的链接</td>
</tr>
<tr>
<td>[1, 2, 3]</td>
<td>1, 2, 3 组成的列表</td>
</tr>
<tr>
<td>[[1, 2], [3, 4]]</td>
<td>[1, 2] 和 [3, 4] 组成的列表</td>
</tr>
<tr>
<td>{ a: 1. b: 2 }</td>
<td>含有属性 a&#x3D;1 和 b&#x3D;2 的一个对象</td>
</tr>
<tr>
<td>date(2023-07-21)</td>
<td>日期</td>
</tr>
<tr>
<td>dur(2 days 4 hours)</td>
<td>一段定长时间</td>
</tr>
</tbody></table>
<h4 id="日期的字面常量"><a href="#日期的字面常量" class="headerlink" title="日期的字面常量"></a>日期的字面常量</h4><table>
<thead>
<tr>
<th>字面常量 Literal</th>
<th>描述 Description</th>
</tr>
</thead>
<tbody><tr>
<td>date(2023-07-21)</td>
<td>日期：2023-07-21</td>
</tr>
<tr>
<td>date(2023-07-21T14:55)</td>
<td>具体到分钟的日期（T 分开天数和具体时间）</td>
</tr>
<tr>
<td>date(today)</td>
<td>今天的日期（具体到天数）</td>
</tr>
<tr>
<td>date(now)</td>
<td>现在的日期和时间（具体到纳秒）</td>
</tr>
<tr>
<td>date(tomorrow)</td>
<td>明天的日期（具体到天数）</td>
</tr>
<tr>
<td>date(sow)</td>
<td>start of week——这周的开始日期</td>
</tr>
<tr>
<td>date(eow)</td>
<td>end of week——这周的结束日期</td>
</tr>
<tr>
<td>date(som)</td>
<td>start of month——这个月的开始日期</td>
</tr>
<tr>
<td>date(eom)</td>
<td>end of month——这个月的结束日期</td>
</tr>
<tr>
<td>date(soy)</td>
<td>start of year——今年的开始日期</td>
</tr>
<tr>
<td>date(eoy)</td>
<td>end of year——今年的结束日期</td>
</tr>
</tbody></table>
<h4 id="定长日期"><a href="#定长日期" class="headerlink" title="定长日期"></a>定长日期</h4><table>
<thead>
<tr>
<th>字面常量 Literal</th>
<th>描述 Description</th>
</tr>
</thead>
<tbody><tr>
<td>dur(1s)</td>
<td>一秒</td>
</tr>
<tr>
<td>dur(3m)</td>
<td>三分钟</td>
</tr>
<tr>
<td>dur(5h)</td>
<td>五小时</td>
</tr>
<tr>
<td>dur(2d)</td>
<td>两天</td>
</tr>
<tr>
<td>dur(4w)</td>
<td>四周</td>
</tr>
<tr>
<td>dur(6mo)</td>
<td>六个月</td>
</tr>
<tr>
<td>dur(7 yr)</td>
<td>七年</td>
</tr>
<tr>
<td>dur(1s, 2m, 3h)</td>
<td>3 小时、2 分钟和 1 秒钟</td>
</tr>
</tbody></table>
<h3 id="四种查询方式"><a href="#四种查询方式" class="headerlink" title="四种查询方式"></a><a target="_blank" rel="noopener" href="https://pkmer.cn/Pkmer-Docs/10-obsidian/obsidian%E7%A4%BE%E5%8C%BA%E6%8F%92%E4%BB%B6/dataview/dataview%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95/20---%E5%9B%9B%E7%A7%8D%E6%9F%A5%E8%AF%A2%E6%96%B9%E5%BC%8F/">四种查询方式</a></h3><ul>
<li>DQL 行内查询：无痕插入文中（使用这种查询时，需要在 Dataview 设置中打开 Enable Inline Queries 设置。）  <ul>
<li>查询本文件的名字：<code>= this.file.name</code>  </li>
<li>查询别的文件的元数据：用链接代表那个文件（方括号内的 file 替换成目标文件的文件名）<code>= [[file]].file.name</code></li>
</ul>
</li>
<li><a href="#DQL%E4%BB%A3%E7%A0%81%E5%9D%97%E6%9F%A5%E8%AF%A2">DQL 代码块查询</a>【大小写不敏感，引号内容有区分大小写】<ul>
<li><img src="/posts/aa25fedf/DQL%E4%BB%A3%E7%A0%81%E5%9D%97%E6%9F%A5%E8%AF%A2.png" alt="DQL代码块查询"></li>
</ul>
</li>
<li>利用 JavaScript 进行行内查询（使用这种查询时，需要在 Dataview 设置中打开 Enable Inline JavaScript Queries 设置。）<ul>
<li>示例：This page was last modified at <code>$= dv.current().file.mtime</code>.</li>
</ul>
</li>
<li>DataviewJS（使用这种查询时，需要在 Dataview 设置中打开 Enable JavaScript Queries 设置。）<ul>
<li>示例  <figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">```dataviewjs</span><br><span class="line"><span class="built_in">let</span> ftMd = dv.pages(<span class="string">&quot;&quot;</span>).file.<span class="built_in">sort</span>(t =&gt; t.cday)[<span class="number">0</span>]</span><br><span class="line"><span class="built_in">let</span> total = parseInt([<span class="built_in">new</span> Date() - ftMd.ctime] / (<span class="number">60</span>*<span class="number">60</span>*<span class="number">24</span>*<span class="number">1000</span>))</span><br><span class="line"><span class="built_in">let</span> totalDays = <span class="string">&quot;您已使用 ***Obsidian*** &quot;</span>+total+<span class="string">&quot; 天，&quot;</span></span><br><span class="line"><span class="built_in">let</span> nofold = &#x27;!<span class="string">&quot;misc/templates&quot;</span>&#x27;</span><br><span class="line"><span class="built_in">let</span> allFile = dv.pages(nofold).file</span><br><span class="line"><span class="built_in">let</span> totalMd = <span class="string">&quot;共创建 &quot;</span>+ allFile.<span class="built_in">length</span>+<span class="string">&quot; 篇笔记&quot;</span></span><br><span class="line"><span class="built_in">let</span> totalTag = allFile.etags.distinct().<span class="built_in">length</span>+<span class="string">&quot; 个标签&quot;</span></span><br><span class="line"><span class="built_in">let</span> totalTask = allFile.tasks.<span class="built_in">length</span>+<span class="string">&quot;个待办。 &quot;</span></span><br><span class="line">dv.paragraph(</span><br><span class="line">	totalDays + totalMd + <span class="string">&quot;、&quot;</span> + totalTag + <span class="string">&quot;、&quot;</span> + totalTask</span><br><span class="line">)</span><br><span class="line">```</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<h3 id="查询类型"><a href="#查询类型" class="headerlink" title="查询类型"></a><a target="_blank" rel="noopener" href="https://pkmer.cn/Pkmer-Docs/10-obsidian/obsidian%E7%A4%BE%E5%8C%BA%E6%8F%92%E4%BB%B6/dataview/dataview%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95/21---%E6%9F%A5%E8%AF%A2%E7%B1%BB%E5%9E%8B/">查询类型</a></h3><ul>
<li><a href="#LIST%E5%88%97%E8%A1%A8">LIST列表</a>【使用 List 查询时，Field 只能有一个属性。】</li>
<li><a href="#TABLE%E8%A1%A8%E6%A0%BC">TABLE表格</a></li>
<li><a href="#TASK%E4%BB%BB%E5%8A%A1">TASK任务</a></li>
<li><a href="#CALENDAR%E6%97%A5%E5%8E%86">CALENDAR日历</a></li>
</ul>
<h3 id="查询字段"><a href="#查询字段" class="headerlink" title="查询字段"></a><a target="_blank" rel="noopener" href="https://pkmer.cn/Pkmer-Docs/10-obsidian/obsidian%E7%A4%BE%E5%8C%BA%E6%8F%92%E4%BB%B6/dataview/dataview%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95/22---%E6%9F%A5%E8%AF%A2%E5%AD%97%E6%AE%B5/">查询字段</a></h3><p>Dataview 的查询字段 Field 就是我们最后想要显示的内容组成的列表，可以是以下几种</p>
<ul>
<li>字面常量 Literals；</li>
<li>查询的文件的元数据；</li>
<li>查询的文件的元数据和字面常量组合；</li>
<li>使用加减号将查询的文件的元数据和一些描述词拼接组合；</li>
</ul>
<h3 id="操作符"><a href="#操作符" class="headerlink" title="操作符"></a><a target="_blank" rel="noopener" href="https://pkmer.cn/Pkmer-Docs/10-obsidian/obsidian%E7%A4%BE%E5%8C%BA%E6%8F%92%E4%BB%B6/dataview/dataview%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95/23---%E6%93%8D%E4%BD%9C%E7%AC%A6/">操作符</a></h3><h4 id="FROM"><a href="#FROM" class="headerlink" title="FROM"></a>FROM</h4><ul>
<li>FROM <source> 语句用于决定你所有结果的来源，这些来源可以是：<ul>
<li>Tags：所有含有该标签的文件，用法是 <code>FROM #tag</code> </li>
<li>Folders：所有这个文件夹中的文件，用法是 <code>FROM &quot;文件夹&quot;</code></li>
<li>Single Files：指定的文件，用法是 <code>FROM &quot;文件的路径&quot;</code></li>
<li>Links：可以是所有引用了该文件的文件，或者是该文件引用的文件（引用是 [[文件]]）<ul>
<li>收集所有引用了文件 A 的文件，语法为 <code>FROM [[A]]</code></li>
<li>收集文件 A 中引用了的文件，语法为 <code>FROM outgoing([[A]])</code></li>
</ul>
</li>
</ul>
</li>
</ul>
<blockquote>
<p>  [!小技巧]<br>  用 ! 或 - 代表非，比如<code> FROM -#Tag</code> 或 <code>FROM !#Tag</code> 是指除了这个标签以外的文件，文件夹和文件也同样；<br>  不同的条件之间用 <code>AND</code> 和 <code>OR</code> 来表示“与”和“或”，用括号辅助明确“与”和“或”的关系；<br>  如果没有 FROM 只有查询类型时，会查询所有的文件</p>
</blockquote>
<ul>
<li>查询文件夹 PKMER&#x2F;Dataview 中的所有文件但不包含目录的文件：  <figure class="highlight autohotkey"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">```dataview</span><br><span class="line">   Table </span><br><span class="line">   From <span class="string">&quot;PKMER/Dataview&quot;</span> <span class="literal">and</span> !<span class="string">&quot;PKMER/Dataview/00-MOC 目录&quot;</span></span><br><span class="line">   ```</span><br></pre></td></tr></table></figure></li>
<li>查询引用了本文的文件（省略号处填查询的文件的标题）：  <figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">```dataview</span><br><span class="line">   Table </span><br><span class="line">   From <span class="string">[[...]]</span></span><br><span class="line">   ```</span><br></pre></td></tr></table></figure></li>
<li><code>[[00 - Dataview 基本语法学习指南]]</code> 引用的文件：  <figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">```dataview</span><br><span class="line">   Table </span><br><span class="line">   From outgoing(<span class="string">[[00 - Dataview 基本语法学习指南]]</span>)</span><br><span class="line">   ```</span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="WHERE"><a href="#WHERE" class="headerlink" title="WHERE"></a>WHERE</h4><p>where 在英文中就是用来表示从句，就是用来做修饰用的。在这里对目标文件进行修饰就是筛选；<br>语法是 WHERE 加上约束条件：WHERE expression，满足约束条件的 file (文件) 或 task (任务) 保留；  </p>
<ul>
<li>约束条件：筛选满足 expression 条件的对象，expression 是一个结果为真或假的表达式，比如 <code>1 + 1 = 2</code> 这个 <strong>表达式</strong> 的结果为真；</li>
<li>约束条件可以配合比较大小和基本运算 <code>&lt;, &gt;, &lt;=, &gt;=, =, +, - *, /</code> 使用；</li>
<li>同时约束条件还可以使用许多 Dataview 提供的 <strong>函数</strong>；</li>
<li>如果你有一个属性名就是 <code>where</code>，那么你可以用 <code>row[&quot;where&quot;]</code> 来替代 WHERE 操作符</li>
</ul>
<ol>
<li>查找所有 24 小时以内修改过的文件（使用了比较运算符大于等于，以及函数 <code>date(today)</code> 和 <code>dur()</code>）： <figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">```dataview</span><br><span class="line">   LIST</span><br><span class="line">   WHERE <span class="built_in">file</span>.mtime &gt;= <span class="built_in">date</span>(today) - dur(<span class="number">1</span> <span class="built_in">day</span>)</span><br><span class="line">   ```</span><br></pre></td></tr></table></figure></li>
<li>查找所有未完成且超过一个月的项目（使用了函数 <code>date()</code> 和 <code>dur()</code>） <figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">```dataview</span><br><span class="line">   LIST </span><br><span class="line">   FROM <span class="comment">#projects </span></span><br><span class="line">   WHERE !completed AND <span class="built_in">file</span>.ctime &lt;= <span class="built_in">date</span>(today) - dur(<span class="number">1</span> <span class="built_in">month</span>)</span><br><span class="line">   ```</span><br></pre></td></tr></table></figure></li>
<li>搜索所有未完成的并含有 shopping 标签的任务（使用了函数 <code>contain()</code> ） <figure class="highlight autohotkey"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">```dataview</span><br><span class="line">   TASK </span><br><span class="line">   WHERE !completed <span class="literal">AND</span> contains(tags, <span class="string">&quot;#shopping&quot;</span>) </span><br><span class="line">   ```</span><br></pre></td></tr></table></figure></li>
</ol>
<h4 id="SORT"><a href="#SORT" class="headerlink" title="SORT"></a>SORT</h4><p>对已经挑选出来的文件（或任务）按照某个规则进行排序，这个规则一般是按照某个可排序的属性升序降序排序</p>
<ul>
<li>只依据一个属性排序时，语法为 <code>SORT 属性 [ASC/DESC]</code>，其中 ASC 代表升序排序（从小到大），DESC 代表降序排序（从大到小），也可以写他们的全称 ASCENDING&#x2F;DESCENDING；</li>
<li>如果有两个文件，用于排序的属性值相同，还可以添加多个排序条件，语法为  <figure class="highlight oxygene"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">```dataview</span><br><span class="line">   SORT 属性<span class="number">1</span> [<span class="keyword">ASC</span>/<span class="keyword">DESC</span>] 属性<span class="number">2</span> [<span class="keyword">ASC</span>/<span class="keyword">DESC</span>] ... 属性N [<span class="keyword">ASC</span>/<span class="keyword">DESC</span>]</span><br><span class="line">   ```</span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="GROUP-BY"><a href="#GROUP-BY" class="headerlink" title="GROUP BY"></a>GROUP BY</h4><p>成组，即对挑选出来的文件（或任务）按照某种规则进行分组。</p>
<ul>
<li>规则一般是按照属性分类，比如按照文件是否 starred 分为两类，或是按照拥有的 tags 分类等。</li>
<li>分类之后，同一类的数据会合并并放在同一行，用关键字 rows 指代，因此可以以此来继续操作每一行</li>
</ul>
<ol>
<li>例子：按照拥有相同标签且均含有算法标签来分类题目，并且按照创建时间升序排列 <figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">```dataview</span><br><span class="line">   <span class="keyword">TABLE</span> <span class="keyword">rows</span>.file.name <span class="keyword">AS</span> &quot;题目&quot;, <span class="keyword">rows</span>.file.ctime <span class="keyword">AS</span> &quot;创建时间&quot;</span><br><span class="line">   <span class="keyword">FROM</span> #算法 </span><br><span class="line">   <span class="keyword">GROUP</span> <span class="keyword">BY</span> file.etags <span class="keyword">AS</span> &quot;Tags&quot;</span><br><span class="line">   SORT <span class="keyword">rows</span>.file.ctime <span class="keyword">ASC</span></span><br><span class="line">   ```</span><br></pre></td></tr></table></figure></li>
</ol>
<h4 id="FLATTEN"><a href="#FLATTEN" class="headerlink" title="FLATTEN"></a>FLATTEN</h4><p>扁平化，将数组中的每一行都扁平化，即为数组中的每个条目生成一个结果行。</p>
<ol>
<li>例如，将每个文献注释中的作者字段平铺为每行一个作者 <figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">``</span><span class="string">`dataview</span></span><br><span class="line"><span class="string">   TABLE authors</span></span><br><span class="line"><span class="string">   FROM #LiteratureNote</span></span><br><span class="line"><span class="string">   FLATTEN authors</span></span><br><span class="line"><span class="string">   `</span><span class="string">``</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h4 id="LIMIT"><a href="#LIMIT" class="headerlink" title="LIMIT"></a>LIMIT</h4><p>用于限制数量，没有很复杂的语法，比如 <code>LIMIT 5</code> 就是指只取五条，一般会配合 SORT 使用；</p>
<ol>
<li>例子：搜索最近一个月内创建的前 10 个文件 <figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">```dataview</span><br><span class="line">   <span class="keyword">TABLE</span></span><br><span class="line">   <span class="keyword">WHERE</span> file.mtime &gt;= <span class="type">date</span>(today) - dur(<span class="number">1</span> day)</span><br><span class="line">   <span class="keyword">LIMIT</span> <span class="number">10</span></span><br><span class="line">   ```</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="表达式"><a href="#表达式" class="headerlink" title="表达式"></a><a target="_blank" rel="noopener" href="https://pkmer.cn/Pkmer-Docs/10-obsidian/obsidian%E7%A4%BE%E5%8C%BA%E6%8F%92%E4%BB%B6/dataview/dataview%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95/24---%E8%A1%A8%E8%BE%BE%E5%BC%8F/">表达式</a></h3><p>在表达式中，你可以使用的有</p>
<ul>
<li>Field 属性值；</li>
<li>Literals 字面常量；</li>
<li>以及他们的计算结果；<br>除了查询类型和操作符以外的所有内容，都是表达式</li>
</ul>
<p>有那么几种表达式：</p>
<figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">```dataview</span><br><span class="line"><span class="comment"># Literals 字面常量</span></span><br><span class="line"><span class="number">1</span>                     (数字) </span><br><span class="line"><span class="symbol">true</span>/false            (布尔值) </span><br><span class="line"><span class="string">&quot;text&quot;</span>                (文本) </span><br><span class="line"><span class="symbol">date</span>(<span class="number">2021</span>-<span class="number">04</span>-<span class="number">18</span>)      (日期) </span><br><span class="line"><span class="symbol">dur</span>(<span class="number">1</span> day)            (定长时间) </span><br><span class="line">[[Link]]              (链接) </span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]             (列表) </span><br><span class="line">&#123; a: <span class="number">1</span>, b: <span class="number">2</span> &#125;        (对象) </span><br><span class="line"></span><br><span class="line"><span class="comment"># Lambdas 表达式</span></span><br><span class="line">(x1, x2) =&gt; ...       (lambda 表达式) </span><br><span class="line"></span><br><span class="line"><span class="comment"># References </span></span><br><span class="line"><span class="symbol">field</span>                 (属性) </span><br><span class="line"><span class="symbol">simple</span>-<span class="meta">field</span>          (中间的空格被替换成 - 的属性 Simple <span class="meta">Field</span>) </span><br><span class="line"><span class="symbol">a.b</span>                   (如果属性a是一个对象, 用点运算符获得他的属性<span class="string">&#x27;b&#x27;</span>的值) </span><br><span class="line">a[expr]               (如果a是一个对象或者数组, 用括号加下标获得他的对应属性的值) </span><br><span class="line">f(a, b, ...)          (用函数映射获得返回值) </span><br><span class="line"></span><br><span class="line"><span class="comment"># Arithmetic </span></span><br><span class="line">a + <span class="keyword">b</span>                 (加) </span><br><span class="line">a - <span class="keyword">b</span>                 (减) </span><br><span class="line">a * <span class="keyword">b</span>                 (乘) </span><br><span class="line">a / <span class="keyword">b</span>                 (除) </span><br><span class="line">a % <span class="keyword">b</span>                 (取模) </span><br><span class="line"></span><br><span class="line"><span class="comment"># Comparison </span></span><br><span class="line">a &gt; <span class="keyword">b</span>                 (检查a是不是大于b) </span><br><span class="line">a &lt; <span class="keyword">b</span>                 (检查a是不是小于b) </span><br><span class="line">a = <span class="keyword">b</span>                 (检查a是不是等于b) </span><br><span class="line">a != <span class="keyword">b</span>                (检查a是不是不等于b) </span><br><span class="line">a &lt;= <span class="keyword">b</span>                (检查a是不是小于等于b)</span><br><span class="line">a &gt;= <span class="keyword">b</span>                (检查a是不是大于等于b)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Strings </span></span><br><span class="line">a + <span class="keyword">b</span>                 (字符串的拼接) </span><br><span class="line">a * num               (字符串的重复，例如 <span class="string">&quot;a&quot;</span> * <span class="number">2</span> = <span class="string">&quot;aa&quot;</span>) </span><br><span class="line"></span><br><span class="line"><span class="comment"># Special Operations </span></span><br><span class="line">[[Link]].value        (从链接对应的文件中获取属性`value`的值)</span><br><span class="line">```</span><br></pre></td></tr></table></figure>

<h3 id="Dataview-提供的函数-Function"><a href="#Dataview-提供的函数-Function" class="headerlink" title="Dataview 提供的函数 Function"></a><a target="_blank" rel="noopener" href="https://pkmer.cn/Pkmer-Docs/10-obsidian/obsidian%E7%A4%BE%E5%8C%BA%E6%8F%92%E4%BB%B6/dataview/dataview%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95/30---dataview-%E6%8F%90%E4%BE%9B%E7%9A%84%E5%87%BD%E6%95%B0-function">Dataview 提供的函数 Function</a></h3><p>Dataview 提供了一些函数让我们能够加工查询的结果，你可以在除了 From 以外的地方使用。</p>
<p>Dataview 提供了非常丰富的函数让我们处理数据，这些函数主要有五类。正文对函数作大致介绍，并且提供具体介绍的链接，如果对中文介绍有疑问，也可以自行在官方英文文档查看原文（ <a target="_blank" rel="noopener" href="https://blacksmithgu.github.io/obsidian-dataview/reference/functions/#utility-functions">Functions - Dataview</a> ）</p>
<h4 id="Constructors-构造函数"><a href="#Constructors-构造函数" class="headerlink" title="Constructors 构造函数"></a><a href="https%20//pkmer.cn/Pkmer-Docs/10-obsidian/obsidian%E7%A4%BE%E5%8C%BA%E6%8F%92%E4%BB%B6/dataview/dataview%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95/31---dataview-%E4%B8%AD%E7%9A%84%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0">Constructors 构造函数</a></h4><p>这类函数用于将输入值转换为其他数据类型，也就是强制类型转换（11 个）</p>
<ul>
<li><code>object(key1, value1, …)</code>：利用给定键值对构造对象；</li>
<li><code>list(value1, value2, …)</code>：利用给定值构造列表；</li>
<li><code>date(any)</code>：构造时间；</li>
<li><code>date(text, format)</code>：构造具有特定格式的时间；</li>
<li><code>dur(any)</code>：构造定长时间；</li>
<li><code>number(string)</code>：根据字符串构造数字；</li>
<li><code>string(any)</code>：构造字符串；</li>
<li><code>link(path, [display])</code>：构造链接；</li>
<li><code>embed(link, [embed?])</code>：把链接嵌入查询结果中；</li>
<li><code>elink(url, [display])</code>：构造网络链接；</li>
<li><code>typeof(any)</code>：查询数据类型；</li>
</ul>
<h4 id="Numeric-Operations-数值运算函数"><a href="#Numeric-Operations-数值运算函数" class="headerlink" title="Numeric Operations 数值运算函数"></a><a href="https%20//pkmer.cn/Pkmer-Docs/10-obsidian/obsidian%E7%A4%BE%E5%8C%BA%E6%8F%92%E4%BB%B6/dataview/dataview%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95/32---dataview-%E4%B8%AD%E7%9A%84%E6%95%B0%E5%80%BC%E8%BF%90%E7%AE%97%E5%87%BD%E6%95%B0">Numeric Operations 数值运算函数</a></h4><p>这类函数用于操纵数字（8 个）</p>
<ul>
<li><code>round(number, [digits])</code>：向上取整；</li>
<li><code>min(a, b, …)</code>：求最小值；</li>
<li><code>max(a, b, …)</code>：求最大值；</li>
<li><code>sum(array)</code>：求和；</li>
<li><code>product(array)</code>：</li>
<li><code>average(array)</code>：求算术平均值；</li>
<li><code>minby(array, function)</code>：根据某种规则（函数）求最小值；</li>
<li><code>maxby (array, function)</code>：根据某种规则（函数）求最大值；</li>
</ul>
<h4 id="Objects-Arrays-and-String-Operations-对象操纵函数"><a href="#Objects-Arrays-and-String-Operations-对象操纵函数" class="headerlink" title="Objects, Arrays, and String Operations 对象操纵函数"></a><a href="https%20//pkmer.cn/Pkmer-Docs/10-obsidian/obsidian%E7%A4%BE%E5%8C%BA%E6%8F%92%E4%BB%B6/dataview/dataview%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95/33---dataview-%E4%B8%AD%E7%9A%84%E5%AF%B9%E8%B1%A1%E6%93%8D%E7%BA%B5%E5%87%BD%E6%95%B0">Objects, Arrays, and String Operations 对象操纵函数</a></h4><p>这类函数用于操作对象内部的值（15 个）</p>
<ul>
<li><code>contains()</code> 函数及其近似函数 icontains() 和 econtains()：判断是否包含某值；</li>
<li><code>containsword</code>：判断是否包含某值；</li>
<li><code>extract(obj, key1, key2, …)</code>：用 obj 中的某些属性作为属性构造新的对象；</li>
<li><code>sort(list)</code>：排序列表；</li>
<li><code>reverse(list)</code>：翻转列表；</li>
<li><code>length(array/object)</code>：求长度；</li>
<li><code>nonnull(array)</code>：去掉数组中的所有 null 值（空值）；</li>
<li><code>all(array)</code>：当数组中所有元素都是真时返回 true；</li>
<li><code>any(array)</code>：当数组中存在真时返回 true；</li>
<li><code>none(array)</code>：当数组中没有真时返回 true；</li>
<li><code>join(array, [delimiter])</code>：把 array 组合成一个 string，并且第二个输入值作为分隔符（可以不给）；</li>
<li><code>filter(array, predicate)</code>：筛选器，满足 predicate 条件的被保留；</li>
<li><code>map(array, func)</code>：对 array 中的所有元素用函数 func 做映射；</li>
<li><code>flat(array, [depth])</code>：把不同级别的列表组合成一个同级的列表；</li>
<li><code>slice(array, [start, [end]])</code>：数组切片，类似于 JavaScript 的 array.slice()；</li>
</ul>
<h4 id="String-Operations-字符串操纵函数"><a href="#String-Operations-字符串操纵函数" class="headerlink" title="String Operations 字符串操纵函数"></a><a href="https%20//pkmer.cn/Pkmer-Docs/10-obsidian/obsidian%E7%A4%BE%E5%8C%BA%E6%8F%92%E4%BB%B6/dataview/dataview%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95/34---dataview-%E4%B8%AD%E7%9A%84%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%93%8D%E7%BA%B5%E5%87%BD%E6%95%B0">String Operations 字符串操纵函数</a></h4><p>这类函数专门用于处理字符串（13 个）</p>
<ul>
<li><code>regextest(pattern, string)</code>：检查是否可以在字符串中找到给定的正则表达式模式；</li>
<li><code>regexmatch(pattern, string)</code>：检查整个字符串是否与给定的正则表达式模式匹配（regextest 匹配部分文本）；</li>
<li><code>regexreplace(string, pattern, replacement)</code>：替换字符串中所有匹配正则表达式的部分；</li>
<li><code>replace(string, pattern, replacement)</code>：替换字符串中所有与 pattern 相同的部分；</li>
<li><code>lower(string)</code>：字符串全部小写；</li>
<li><code>upper(string)</code>：字符串全部大写；</li>
<li><code>split(string, delimiter, [limit])</code>：在给定的分隔符处分割字符串，可以限制分割次数；</li>
<li><code>startswith(string, suffix)</code>：检查字符串是否以某字符串开头；</li>
<li><code>endsswith(string, suffix)</code>：检查字符串是否以某字符串结尾；</li>
<li><code>padleft(string, length, [padding])</code>：在开头添加给定的字符（默认为空格），使得字符串达到给定的长度</li>
<li><code>padright(string, length, [padding])</code>：在结尾添加给定的字符（默认为空格），使得字符串达到给定的长度</li>
<li><code>substring(string, start, [end])</code>：字符串切片，取字符串中从 start 到 end（start 从 0 开始）的子串；</li>
<li><code>truncate(string, length, [suffix])</code>：截取字符串的开头，并且为截取的字符串增加一个结尾（默认为…）；</li>
</ul>
<h4 id="Utility-Functions-实用函数"><a href="#Utility-Functions-实用函数" class="headerlink" title="Utility Functions 实用函数"></a><a href="#%5B35%20-%20Dataview%20%E4%B8%AD%E7%9A%84%E5%AE%9E%E7%94%A8%E5%87%BD%E6%95%B0%5D(https%20//pkmer.cn/Pkmer-Docs/10-obsidian/obsidian%E7%A4%BE%E5%8C%BA%E6%8F%92%E4%BB%B6/dataview/dataview%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95/35---dataview-%E4%B8%AD%E7%9A%84%E5%AE%9E%E7%94%A8%E5%87%BD%E6%95%B0)">Utility Functions 实用函数</a></h4><p>这类函数专门用于处理字符串（9 个）</p>
<ul>
<li><code>default(field, value)</code>：设置默认值，即当查询的字段为 null （空值），则显示默认值 value ；</li>
<li><code>choice(bool, left, right)</code>：就是 if 判断，bool 判断为真时返回 left，否则返回 right；</li>
<li><code>hash(seed, [text], [variant])</code>：根据 seed 的值获得一个哈希值，作用是可以获得一个独一无二的值；</li>
<li><code>striptime(date)</code>：去掉时分秒的信息，只保留日期部分（年月日）；</li>
<li><code>dateformat(date, string)</code>：把时间按照 string 给出的 格式 输出；</li>
<li><code>durationformat(duration, string)</code>：把定长时间按照 string 给出的格式输出；</li>
<li><code>currencyformat(number, [currency])</code>：根据你当前的语言环境显示数字，也可以手动指定语言环境，例如中文为 “CNY”，具体见 ISO 4217；</li>
<li><code>localtime(date)</code>：将固定时区中的日期转换为当前时区中的日期。</li>
<li><code>meta(link)</code>：获取包含链接元数据的对象。我们可以利用 meta 返回的对象的属性获取信息<ul>
<li><code>meta(link).display</code>：获取链接显示的文本；</li>
<li><code>meta(link).embed</code>：判断链接是否是嵌入链接，<code>![[..]]</code> 会返回 true，<code>[[.]]</code> 则返回 false；</li>
<li><code>meta(link).path</code>：获取链接的路径（链接的路径为字符串）；</li>
<li><code>meta(link).subpath</code>：获取链接的子路径。对于指向标题的链接，返回标题的文本。对于指向块的链接，返回块的 ID。否则子路径将为空。这可以用来选择特定标题下的任务（利用任务的 section 属性可以得到指向任务标题的链接）；</li>
<li><code>meta(link).type</code>：获取链接指向的对象的类型，有 “file”, “header” 和 “block”</li>
</ul>
</li>
</ul>
<h3 id="FAQ-常见问题"><a href="#FAQ-常见问题" class="headerlink" title="FAQ-常见问题"></a><a target="_blank" rel="noopener" href="https://pkmer.cn/Pkmer-Docs/10-obsidian/obsidian%E7%A4%BE%E5%8C%BA%E6%8F%92%E4%BB%B6/dataview/dataview%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95/40---faq-%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98">FAQ-常见问题</a></h3><p>如果你的 dataview 代码报错，请你先考虑</p>
<ul>
<li>使用的符号均为<strong>英文格式</strong></li>
<li>留意各种<strong>空格</strong>，否则可能导致检索错误</li>
</ul>
<ol>
<li>时间数据类型，月份要写成 07 而不是 7；<ol>
<li>错误示范：<code>2023-7-24</code></li>
<li>正确示范：<code>2023-07-24</code></li>
</ol>
</li>
<li>Expected one of the following：<ol>
<li>from 中用 <code>and</code>，<code>or</code> 表示连接，而不是用 <code>,</code>；</li>
<li>可能是把 <code>where</code> 中的内容写到了 <code>from</code> 里面；</li>
</ol>
</li>
<li>如果 dataview 查询只有 Query Types 而没有其他任何信息的时候，需要在结尾加一个空格<ol>
<li>例如 <code>table</code></li>
</ol>
</li>
<li>用 List 查询只能有一个附加属性；</li>
<li>时间做减法的时候，只能后面的时间减去前面的时间，比如 <code>date(now) - date(tomorrow)</code> 没有结果；</li>
<li>使用字面常量时，年份应该用 <code>yr</code>、 <code>yrs</code>、<code>year</code> 和 <code>years</code>，但是不能用 <code>y</code>;</li>
<li>因为 Dataview 是按顺序自上而下执行代码，所以如果你先使用了 Limit 操作符，得到的结果可能就不是预期的结果了。</li>
<li>2023-07-21 的数据类型是 number 而不是 date，他的结果是 1995。<code>date(2023-07-21)</code> 或者 <code>date(&quot;2023-07-21&quot;)</code> 才是日期；</li>
<li>如果你有一个属性名就是 <code>where</code>，那么你可以用 <code>row[&quot;where&quot;]</code> 来替代 WHERE 操作符</li>
<li>表格内容显示不完整<ol>
<li>主题方法解决：一些主题提供了这个内容细调节选项，比如 Minimal 主题</li>
<li>CSS 方法解决：也可以通过 CSS 来解决，针对 dataview 下面的表格进行样式调整</li>
</ol>
</li>
</ol>
<h3 id="DQL-与-SQL-的异同"><a href="#DQL-与-SQL-的异同" class="headerlink" title="DQL 与 SQL 的异同"></a><a target="_blank" rel="noopener" href="https://pkmer.cn/Pkmer-Docs/10-obsidian/obsidian%E7%A4%BE%E5%8C%BA%E6%8F%92%E4%BB%B6/dataview/dataview%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95/41---dql-%E4%B8%8E-sql-%E7%9A%84%E5%BC%82%E5%90%8C">DQL 与 SQL 的异同</a></h3><p>如果你熟悉 SQL 并且具有编写 SQL 查询的经验，你可以用编写 SQL 的方式编写 DQL 查询。但是 DQL 与 SQL 有很大不同。</p>
<ol>
<li>执行方式上<br> DQL 查询<strong>从上到下</strong>逐行执行。它更像是一个计算机程序，而不是一个典型的 SQL 查询。<br> 计算一行时，它会生成一个结果集，并将整个结果集传递到下一个 DQL 行。该行将对从上一行接收的集合做下一步操作。这就是为什么在 DQL 中可以有多个 WHERE 子句的原因。但在 DQL 中，它不是一个“子句”，而是一个“数据命令”。DQL 查询的每一行（第一行和第二行除外）都是一个“数据命令”。</li>
<li>语法上  <ul>
<li>DQL 不是以 SELECT 开头，而是以确定查询类型的单词开头，该单词确定最终结果在屏幕上的呈现方式（表、列表、任务列表或日历）；</li>
<li>显示的字段列表与 SQL 中 SELECT 之后的部分很类似；</li>
<li>下一行以 FROM 开头，后跟的不是表名，而是复杂的表达式，类似于 SQL 的 WHERE 子句。在这里，你可以过滤许多内容，例如文件中的标签，文件名，路径名等。在后台，此命令已经生成了一个结果集，该结果集将成为我们通过后续行中的“数据命令”进一步操作数据的初始集。</li>
<li>DQL 可以有很多个 WHERE 命令、SORT 命令和 GROUP BY 命令；</li>
<li>SQL 中没有 FLATTEN 命令，但在 DQL 中，你可以使用它来减少结果集的深度。</li>
<li>SQL 使用 Order By 命令排序，DQL 使用 Sort 排序；</li>
</ul>
</li>
</ol>
<h3 id="ISO-8601"><a href="#ISO-8601" class="headerlink" title="ISO 8601"></a><a target="_blank" rel="noopener" href="https://pkmer.cn/Pkmer-Docs/10-obsidian/obsidian%E7%A4%BE%E5%8C%BA%E6%8F%92%E4%BB%B6/dataview/dataview%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95/42---iso-8601">ISO 8601</a></h3><p>以国际标准化的 ISO 8601 格式进行表述时间与日期。在 yaml 区域的编写和许多插件中会涉及到其应用。<br>举个例子：<code>2023-07-21T00:00:00.000000000Z</code></p>
<p>他包含了的信息有：</p>
<ul>
<li>日期：年月日；</li>
<li>时间：时分秒和纳秒；</li>
<li>时区：Z 是 Zone 的首字母，代表 UTC 时间，也就是零时区；</li>
</ul>
<p>解释：</p>
<ul>
<li>用字母 T 分割日期与时间；</li>
<li>可以不写纳秒，我们更常用的应该是 <code>2023-07-21T00:00:00Z</code>；</li>
<li>最后的 Z 可有可无（2023-07-21T00:00:00），我们还可以用 + 或者 - 符号来表示时区，<code>+</code> 表示的是东半球， <code>-</code> 表示的是西半球。比如 <code>2023-07-21T00:00:00+08:00</code> 代表东八区，也就是北京时间。<h4 id="年份"><a href="#年份" class="headerlink" title="年份"></a>年份</h4>单词是Year，以 2023 年为例</li>
<li>y&#x2F;Y：直接表示，显示为 2023</li>
<li>YY&#x2F;GG：简单表示，显示为 23</li>
<li>YYYY&#x2F;GGGG：全称表示，显示为 2023<h4 id="季度"><a href="#季度" class="headerlink" title="季度"></a>季度</h4>单词是Quarter。以春季（1-3 月）为例</li>
<li>Q：简单表示，显示为 1</li>
<li>Qo：次序表示，显示为 1 &#x2F; 1st<h4 id="月份"><a href="#月份" class="headerlink" title="月份"></a>月份</h4>单词是Month。以 2 月为例子</li>
<li>M：简单表示，显示为 2</li>
<li>Mo：次序表示，显示为 2月 &#x2F; 2nd</li>
<li>MM：两位简单表示，显示为 02</li>
<li>MMM：简称表示，显示为 2月 &#x2F; Feb</li>
<li>MMMM 全称表示，显示为 二月 &#x2F; February<h4 id="周数"><a href="#周数" class="headerlink" title="周数"></a>周数</h4>单词是Week。以年初第 8 周为例子</li>
<li>w&#x2F;W：简单表示，显示为 8</li>
<li>wo&#x2F;Wo：次序表示，显示为 8周 &#x2F; 8th</li>
<li>ww&#x2F;WW：两位简单表示，显示为 08<h4 id="天数"><a href="#天数" class="headerlink" title="天数"></a>天数</h4>单词是Day，以 10 月 7 日星期六为例<h4 id="月的天数"><a href="#月的天数" class="headerlink" title="月的天数"></a>月的天数</h4></li>
<li>D：简单表示为几号，显示为 7</li>
<li>Do：次序表示，显示为 7日 &#x2F; 7th</li>
<li>DD：两位简单表示，显示为 07<h4 id="年的天数"><a href="#年的天数" class="headerlink" title="年的天数"></a>年的天数</h4></li>
<li>DDD：简单表示为今年的多少天，显示为 280</li>
<li>DDDo：次序表示，显示为 280日 &#x2F; 280th</li>
<li>DDDD：三位简单表示，显示为 280，不足三位补零显示，如为 007<h4 id="周的天数"><a href="#周的天数" class="headerlink" title="周的天数"></a>周的天数</h4></li>
<li>d：简单表示，显示 6，星期天为 0</li>
<li>do：次序表示，显示为 6日 &#x2F; 6th</li>
<li>dd：简化表示，显示为 六 &#x2F; Sa</li>
<li>ddd：简称表示，显示为 周六 &#x2F; Sat</li>
<li>dddd：全称表示，显示为 星期六 &#x2F; Saturday<h4 id="上下午"><a href="#上下午" class="headerlink" title="上下午"></a>上下午</h4>单词是 PM&#x2F;AM，以下午 14 点为例</li>
<li>A：大写表示，显示为 下午 &#x2F; PM</li>
<li>a：大写表示，显示为 下午 &#x2F; pm<h4 id="小时"><a href="#小时" class="headerlink" title="小时"></a>小时</h4>单词是Hour，以 14:37 为例<h4 id="24-小时制"><a href="#24-小时制" class="headerlink" title="24 小时制"></a>24 小时制</h4></li>
<li>k&#x2F;H：简单表示，显示为 14</li>
<li>kk&#x2F;HH：两位表示，显示为 14<h4 id="12-小时制"><a href="#12-小时制" class="headerlink" title="12 小时制"></a>12 小时制</h4></li>
<li>h：极简表示，显示为 2 (下午 2 点)</li>
<li>hh：两位表示，显示为 02 (下午 2 点)<h4 id="分钟"><a href="#分钟" class="headerlink" title="分钟"></a>分钟</h4>单词是<strong>Minute</strong>，以 14:07 为例</li>
<li>m：简单表示，显示为 7</li>
<li>mm：两位表示，显示为 07<h4 id="秒数"><a href="#秒数" class="headerlink" title="秒数"></a>秒数</h4>单词是<strong>Second</strong>，以 7’05”264’’’ 为例</li>
<li>s：简单表示，显示为 5</li>
<li>ss：两位表示，显示为 05</li>
<li>S：毫秒数，显示为 2</li>
<li>SS：毫秒数，显示为 26</li>
<li>SSS：毫秒数，显示为 264<h4 id="时区"><a href="#时区" class="headerlink" title="时区"></a>时区</h4>单词 Time Zone，以北京东八区为例</li>
<li>Z：时间格式，显示为 +08:00</li>
<li>ZZ：数字格式，显示为 +0800<h4 id="固定内容"><a href="#固定内容" class="headerlink" title="固定内容"></a>固定内容</h4>以 <code>[]</code> 包裹的内容固定显示。</li>
</ul>
<h4 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h4><p>以 2023 年 10 月 7 日星期六下午 14 点 52 分为例</p>
<table>
<thead>
<tr>
<th>代码</th>
<th>显示</th>
</tr>
</thead>
<tbody><tr>
<td>YYYY-MM-DD</td>
<td>2023-10-7</td>
</tr>
<tr>
<td>gggg-[W]ww</td>
<td>2023-W 40</td>
</tr>
<tr>
<td>WW[周]dddd</td>
<td>40 周星期六</td>
</tr>
<tr>
<td>YYYYMMDDHHmmss</td>
<td>20231007145226</td>
</tr>
</tbody></table>
<h3 id="YAML-基础"><a href="#YAML-基础" class="headerlink" title="YAML 基础"></a><a target="_blank" rel="noopener" href="https://pkmer.cn/Pkmer-Docs/10-obsidian/obsidian%E7%A4%BE%E5%8C%BA%E6%8F%92%E4%BB%B6/dataview/dataview%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95/43---yaml-%E5%9F%BA%E7%A1%80">YAML 基础</a></h3><blockquote>
<p>[!YAML语法规则]  </p>
<ul>
<li>大小写敏感，可以使用中文；</li>
<li>冒号后要跟一个空格；</li>
<li>使用缩进来代表层级关系；</li>
<li>缩进时只能用空格，不能用 Tab；</li>
<li>缩进的空格数不重要，只需要保证同一级元素左对齐；</li>
<li>从 <code>#</code> 到这一行的末尾是注释；</li>
</ul>
</blockquote>
<p>例子：为《小王子》的阅读笔记写一个前言（包含书名，作者，作者所属国家，开始阅读时间，读完的时间）<br>ps. 这里为了介绍语法规则才同时用中文和英文作为属性名 (Field Name)，平常建议只用一种</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="string">书名:</span> <span class="string">《小王子》</span>       <span class="comment"># 注释之前的空格会被忽略，不用担心；</span></span><br><span class="line"><span class="attr">author:</span> <span class="string">圣埃克苏佩里</span>   <span class="comment"># 中文会被识别成文本，解析时会自动增加双引号，因此我们可以不加；</span></span><br><span class="line"><span class="attr">country:</span> <span class="string">&quot;法国&quot;</span>       <span class="comment"># 如果要加双引号，记得用英文的双引号，不能用单引号；</span></span><br><span class="line"><span class="attr">abstract:</span> <span class="string">|</span></span><br><span class="line"><span class="string">  小说叙述者是个飞行员，他讲了六年前他因飞机故障迫降在撒哈拉沙漠遇见小王子的故事。</span></span><br><span class="line"><span class="string">  神秘的小王子来自另一个星球。</span></span><br><span class="line"><span class="string">  飞行员讲了小王子和他的玫瑰的故事。</span></span><br><span class="line"><span class="string">  小王子为什么离开自己的星球。在抵达地球之前，他又访问过哪些星球。</span></span><br><span class="line"><span class="string">  他转述了小王子对六个星球的历险。</span></span><br><span class="line"><span class="string">  飞行员和小王子在沙漠中共同拥有过一段极为珍贵的友谊。</span></span><br><span class="line"><span class="string">  当小王子离开地球时，飞行员非常悲伤。</span></span><br><span class="line"><span class="string">  他一直非常怀念他们共度的时光。他为纪念小王子写了这部小说。</span></span><br><span class="line"><span class="string"></span><span class="attr">finish:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">time:</span></span><br><span class="line">  <span class="attr">start:</span> <span class="number">2023-7</span><span class="number">-14</span></span><br><span class="line">  <span class="attr">end:</span> <span class="number">2023-7</span><span class="number">-15</span></span><br><span class="line"><span class="meta">---</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>[!注意]  </p>
<ul>
<li>Frontmatter 必须写在整个文章的开头；</li>
<li>用两段 <code>---</code> 包括起来；</li>
<li>阅读模式下，Frontmatter 不会显示；（可以在设置中打开阅读模式显示）</li>
<li>多行文本需要用 <code>|</code> 声明一下，后面的内容需要每一行开头缩进对齐；</li>
</ul>
</blockquote>
<p>YAML 中的数据自然也是有数据类型的，比如数值类型、字符串类型、时间类型、布尔类型、数组类型和对象类型，这里给出最后两种的写法：对象 Map 和数组 List</p>
<h4 id="YAML-MAP"><a href="#YAML-MAP" class="headerlink" title="YAML MAP"></a>YAML MAP</h4><p>当某个属性值为对象时，他就存在下一级的 Key-Value，此时这个属性就是一个 Map；</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">path:</span> <span class="string">...</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">...</span></span><br><span class="line"><span class="meta">---</span></span><br></pre></td></tr></table></figure>
<p>我们可以使用点运算符获取更低级的属性：<code>metadata.path</code>；</p>
<h4 id="YAML-LIST"><a href="#YAML-LIST" class="headerlink" title="YAML LIST"></a>YAML LIST</h4><p>先看例子</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">abc</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">edf</span></span><br><span class="line"><span class="meta">---</span></span><br></pre></td></tr></table></figure>
<p>其实就是这个属性的值域是一个无序列表，可以等价看成 <code>metadata: [abc, edf]</code>。我们可以使用方括号和元素下标取得下一级的属性 <code>metadata[0]</code> 和 <code>metadata[1]</code>（第一个元素的下标是 0）；</p>
<h4 id="相关插件"><a href="#相关插件" class="headerlink" title="相关插件"></a>相关插件</h4><ol>
<li>Query2table：根据 YAML Fromtmatter 来生成表格，支持筛选，不够稳定；</li>
<li>Metatable：优化 YAML Frontmatter 的显示效果；</li>
<li>Text  ：抽取 YAML Frontmatter 的值，类似行内 Dataview 查询；</li>
<li>Juggl：根据 YAML Frontmatter 的内容生成线段联系；</li>
</ol>
<h3 id="Dataview-设置介绍"><a href="#Dataview-设置介绍" class="headerlink" title="Dataview 设置介绍"></a><a target="_blank" rel="noopener" href="https://pkmer.cn/Pkmer-Docs/10-obsidian/obsidian%E7%A4%BE%E5%8C%BA%E6%8F%92%E4%BB%B6/dataview/dataview%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95/44---dataview-%E8%AE%BE%E7%BD%AE%E4%BB%8B%E7%BB%8D">Dataview 设置介绍</a></h3><p>版本：0.5.66<br>Dataview 的设置分为三个部分  </p>
<ul>
<li>General Settings：基础设置</li>
<li>Codeblock Settings：代码块设置</li>
<li>View Settings：视图设置</li>
</ul>
<h4 id="General-Settings-基础设置"><a href="#General-Settings-基础设置" class="headerlink" title="General Settings 基础设置"></a>General Settings 基础设置</h4><p>dataview 共提供了四种查询方式，行内 dv 查询，dv 代码块查询，行内 dvjs 查询，dvjs 代码块查询，详见 20 - 四种查询方式。其中 dv 代码块查询是默认启用的，也是本插件的核心功能，未提供关闭选项。</p>
<ul>
<li>Enable Inline Queries：行内 dv 查询的启用与关闭</li>
<li>Enable JavaScript Queries：dvjs 代码块查询的启用与关闭</li>
<li>Enable Inline JavaScript Queries：行内 dvjs 查询的启用与关闭</li>
<li>Enable Inline Field Hightlighting in Reading View：阅读模式下，是否渲染行内字段（什么是行内字段可以见 11 - 添加元数据至文件）</li>
<li>Enable Inline Field Hightlighting in Live Preview：实时预览模式下，是否渲染行内字段<h4 id="Codeblock-Settings-代码块设置"><a href="#Codeblock-Settings-代码块设置" class="headerlink" title="Codeblock Settings 代码块设置"></a>Codeblock Settings 代码块设置</h4></li>
<li>DataviewJS Keyword：dvjs 查询时代码块的名称，默认为 dataviewjs，需要重启生效</li>
<li>Inline Query Prefix：自定义行内查询的开头，默认为等号 &#x3D;，行内查询见 20 - 四种查询方式；</li>
<li>JavaScript Inline Query Prefix：自定义行内 dvjs 查询的开头，行内 dvjs 查询见 20 - 四种查询方式；</li>
<li>Codeblock Inline Queries：如果启用，行内查询也将在完整的代码块内求值。<h4 id="View-Settings-视图设置"><a href="#View-Settings-视图设置" class="headerlink" title="View Settings 视图设置"></a>View Settings 视图设置</h4>视图设置分为三个部分</li>
<li>General 视图常规设置</li>
<li>Table Settings 表格视图设置</li>
<li>Task Settings 任务视图设置<h4 id="General-视图常规设置"><a href="#General-视图常规设置" class="headerlink" title="General 视图常规设置"></a>General 视图常规设置</h4></li>
<li>Display result count：是否隐藏 TASK 和 TABLE 查询时结果的数目（如果开启，代码块查询时会在表头隐藏结果数目）</li>
<li>Warn on Empty Result：开启后，当查询结果为空时（一个符合的结果都没有），会有警告消息的提示（可以帮助你区分是你的 dv 查询代码写错了还是真的就是没有符合条件的结果）</li>
<li>Render Null As：这个设置决定了当查询结果中某个值为空值时，用什么值替代。默认为 -，代表查询为空时会用一个横线替代。这个设置支持 markdown 语法。</li>
<li>Automatic View Refreshing：如果启用，当库中的文件更改时，视图将自动刷新；这可能会对视图中的嵌入等功能产生负面影响，所以如果这些功能不起作用，请关闭它。</li>
<li>Refresh Interval：上一项自动刷新的间隔，单位为毫秒，默认值为每 2.5s 自动刷新</li>
<li>Data Format：查询结果中日期的默认格式，采用 Luxon 日期格式，详见 momentjs&#x2F;docs。如果你对出现的日期的格式不满意，可以在这里设置，也可以用 dataformat 函数（见 35 - Dataview 中的实用函数）</li>
<li>Data + Time Format：和上一个类似，区别在于这里包括时间，前一个只包括日期（年月日）<h4 id="Table-Settings-表格视图设置"><a href="#Table-Settings-表格视图设置" class="headerlink" title="Table Settings 表格视图设置"></a>Table Settings 表格视图设置</h4></li>
<li>Primary Column Name：ID 列默认列名（即默认的第一列），在写 dv 代码块的时候可以用 without id 隐藏第一列。</li>
<li>Grouped Column Name：使用 Group 成组后的第一列的列名（但是据测试第一列的名称会是 goupy by 后的内容）<h4 id="Task-Settings-任务视图设置"><a href="#Task-Settings-任务视图设置" class="headerlink" title="Task Settings 任务视图设置"></a>Task Settings 任务视图设置</h4></li>
<li>Automatic Task Completion Tracking：如果启用，当在 Dataview 视图中选中任务时，Dataview 将自动附加任务及其完成日期。示例: <code>- [x] my task [completion:: 2022-01-01]</code></li>
<li>Use Emoji Shorthand for Copletion：需要 ‘Automatic Task Completion Tracking’ 启用，功能是自动添加时间时改用 Emoji 替代前面的行内字段写法，具体见 12 - 添加元数据至列表和任务</li>
<li>Completion Field Name：需要 ‘Automatic Task Completion Tracking’ 启用，完成字段的属性名</li>
<li>Completion Data Format：完成任务时，完成字段的时间格式，在不开启 ‘Use Emoji Shorthand for Copletion’ 的情况下生效。</li>
<li>Recursive Sub-Task Completion：如果启用，完成 dataview 中的任务将自动完成它的子任务。</li>
</ul>
<h2 id="Dataview语法实战"><a href="#Dataview语法实战" class="headerlink" title="Dataview语法实战"></a>Dataview语法实战</h2><ul>
<li><a target="_blank" rel="noopener" href="https://pkmer.cn/Pkmer-Docs/10-obsidian/obsidian%E7%A4%BE%E5%8C%BA%E6%8F%92%E4%BB%B6/dataview/dataview%E8%AF%AD%E6%B3%95%E5%AE%9E%E6%88%98/dataview-%E8%A1%A8%E6%A0%BC%E7%AE%80%E5%8D%95%E6%9F%A5%E8%AF%A2%E7%A4%BA%E4%BE%8B">Dataview 表格简单查询示例；</a></li>
<li><a target="_blank" rel="noopener" href="https://pkmer.cn/Pkmer-Docs/10-obsidian/obsidian%E7%A4%BE%E5%8C%BA%E6%8F%92%E4%BB%B6/dataview/dataview%E8%AF%AD%E6%B3%95%E5%AE%9E%E6%88%98/dataview-%E8%A1%A8%E6%A0%BC%E8%BF%9B%E9%98%B6%E6%9F%A5%E8%AF%A2%E7%A4%BA%E4%BE%8B">Dataview 表格进阶查询示例；</a></li>
<li><a target="_blank" rel="noopener" href="https://pkmer.cn/Pkmer-Docs/10-obsidian/obsidian%E7%A4%BE%E5%8C%BA%E6%8F%92%E4%BB%B6/dataview/dataview%E7%A4%BE%E5%8C%BA%E5%AE%9E%E8%B7%B5%E7%BB%8F%E9%AA%8C/dataview%E5%AE%9E%E6%88%98-%E5%AE%9A%E5%88%B6%E4%BD%A0%E7%9A%84%E6%95%B0%E6%8D%AE%E8%A1%A8%E6%A0%BC%E5%B9%B6%E4%B8%BA%E8%A1%A8%E6%A0%BC%E5%88%97%E6%B7%BB%E5%8A%A0%E4%B8%AA%E6%80%A7%E5%8C%96%E6%A0%B7%E5%BC%8F">Dataview实战-定制你的数据表格并为表格列添加个性化样式；</a></li>
<li><a target="_blank" rel="noopener" href="https://pkmer.cn/Pkmer-Docs/10-obsidian/obsidian%E7%A4%BE%E5%8C%BA%E6%8F%92%E4%BB%B6/dataview/dataview%E8%AF%AD%E6%B3%95%E5%AE%9E%E6%88%98/dataview-%E5%88%97%E8%A1%A8%E7%AE%80%E5%8D%95%E6%9F%A5%E8%AF%A2%E7%A4%BA%E4%BE%8B">Dataview 列表简单查询示例；</a></li>
<li><a target="_blank" rel="noopener" href="https://pkmer.cn/Pkmer-Docs/10-obsidian/obsidian%E7%A4%BE%E5%8C%BA%E6%8F%92%E4%BB%B6/dataview/dataview%E8%AF%AD%E6%B3%95%E5%AE%9E%E6%88%98/dataview-%E5%88%97%E8%A1%A8%E8%BF%9B%E9%98%B6%E6%9F%A5%E8%AF%A2%E7%A4%BA%E4%BE%8B">Dataview 列表进阶查询示例；</a></li>
<li><a target="_blank" rel="noopener" href="https://pkmer.cn/Pkmer-Docs/10-obsidian/obsidian%E7%A4%BE%E5%8C%BA%E6%8F%92%E4%BB%B6/dataview/dataview%E8%AF%AD%E6%B3%95%E5%AE%9E%E6%88%98/dataview-%E4%BB%BB%E5%8A%A1%E7%AE%80%E5%8D%95%E6%9F%A5%E8%AF%A2%E7%A4%BA%E4%BE%8B">Dataview 任务简单查询示例；</a></li>
<li><a target="_blank" rel="noopener" href="https://pkmer.cn/Pkmer-Docs/10-obsidian/obsidian%E7%A4%BE%E5%8C%BA%E6%8F%92%E4%BB%B6/dataview/dataview%E8%AF%AD%E6%B3%95%E5%AE%9E%E6%88%98/dataview-%E4%BB%BB%E5%8A%A1%E8%BF%9B%E9%98%B6%E6%9F%A5%E8%AF%A2%E7%A4%BA%E4%BE%8B">Dataview 任务进阶查询示例；</a></li>
<li><a target="_blank" rel="noopener" href="https://pkmer.cn/Pkmer-Docs/10-obsidian/obsidian%E7%A4%BE%E5%8C%BA%E6%8F%92%E4%BB%B6/dataview/dataview%E8%AF%AD%E6%B3%95%E5%AE%9E%E6%88%98/dataview-%E6%97%A5%E5%8E%86%E6%9F%A5%E8%AF%A2%E7%A4%BA%E4%BE%8B">Dataview 日历查询示例；</a></li>
<li><a target="_blank" rel="noopener" href="https://pkmer.cn/Pkmer-Docs/10-obsidian/obsidian%E7%A4%BE%E5%8C%BA%E6%8F%92%E4%BB%B6/dataview/dataview%E8%AF%AD%E6%B3%95%E5%AE%9E%E6%88%98/dataview%E8%AF%AD%E6%B3%95%E5%AE%9E%E6%88%98-%E8%87%AA%E5%AE%9A%E4%B9%89%E6%8E%92%E5%BA%8F%E7%9A%84%E7%AE%80%E5%8D%95%E5%AE%9E%E4%BE%8B">Dataview语法实战-自定义排序的简单实例；</a></li>
<li><a target="_blank" rel="noopener" href="https://pkmer.cn/Pkmer-Docs/10-obsidian/obsidian%E7%A4%BE%E5%8C%BA%E6%8F%92%E4%BB%B6/dataview/dataview%E8%AF%AD%E6%B3%95%E5%AE%9E%E6%88%98/dataview%E8%AF%AD%E6%B3%95%E5%AE%9E%E6%88%98-%E8%87%AA%E5%AE%9A%E4%B9%89%E6%8E%92%E5%BA%8F%E8%BF%9B%E9%98%B6%E6%93%8D%E4%BD%9C%E5%AE%9E%E4%BE%8B">Dataview语法实战-自定义排序进阶操作实例；</a></li>
<li><a target="_blank" rel="noopener" href="https://pkmer.cn/Pkmer-Docs/10-obsidian/obsidian%E7%A4%BE%E5%8C%BA%E6%8F%92%E4%BB%B6/dataview/dataview%E8%AF%AD%E6%B3%95%E5%AE%9E%E6%88%98/dataview%E8%AF%AD%E6%B3%95%E5%AE%9E%E6%88%98-flatten%E6%93%8D%E4%BD%9C%E7%AC%A6%E5%85%A5%E9%97%A8%E7%A4%BA%E4%BE%8B">Dataview语法实战-FLATTEN操作符入门示例；</a></li>
<li><a target="_blank" rel="noopener" href="https://pkmer.cn/Pkmer-Docs/10-obsidian/obsidian%E7%A4%BE%E5%8C%BA%E6%8F%92%E4%BB%B6/dataview/dataview%E8%AF%AD%E6%B3%95%E5%AE%9E%E6%88%98/dataview%E8%AF%AD%E6%B3%95%E5%AE%9E%E6%88%98-flatten%E6%93%8D%E4%BD%9C%E7%AC%A6%E8%BF%9B%E9%98%B6%E7%A4%BA%E4%BE%8B">Dataview语法实战-FLATTEN操作符进阶示例；</a></li>
<li><a target="_blank" rel="noopener" href="https://pkmer.cn/Pkmer-Docs/10-obsidian/obsidian%E7%A4%BE%E5%8C%BA%E6%8F%92%E4%BB%B6/dataview/dataview%E8%AF%AD%E6%B3%95%E5%AE%9E%E6%88%98/dataview%E8%AF%AD%E6%B3%95%E5%AE%9E%E6%88%98-group-by-%E6%93%8D%E4%BD%9C%E7%AC%A6%E7%AE%80%E5%8D%95%E7%A4%BA%E4%BE%8B">Dataview语法实战-GROUP BY 操作符简单示例；</a></li>
<li><a target="_blank" rel="noopener" href="https://pkmer.cn/Pkmer-Docs/10-obsidian/obsidian%E7%A4%BE%E5%8C%BA%E6%8F%92%E4%BB%B6/dataview/dataview%E8%AF%AD%E6%B3%95%E5%AE%9E%E6%88%98/dataview%E8%AF%AD%E6%B3%95%E5%AE%9E%E6%88%98-group-by-%E6%93%8D%E4%BD%9C%E7%AC%A6%E8%BF%9B%E9%98%B6%E7%A4%BA%E4%BE%8B">Dataview语法实战-GROUP BY 操作符进阶示例；</a><h2 id="进阶-Dataview语法实战"><a href="#进阶-Dataview语法实战" class="headerlink" title="进阶-Dataview语法实战"></a>进阶-Dataview语法实战</h2></li>
<li><a target="_blank" rel="noopener" href="https://pkmer.cn/Pkmer-Docs/10-obsidian/obsidian%E7%A4%BE%E5%8C%BA%E6%8F%92%E4%BB%B6/dataview/dataview%E8%AF%AD%E6%B3%95%E5%AE%9E%E6%88%98/%E6%B1%87%E9%9B%86%E4%B8%BB%E9%A2%98--%E5%85%B3%E4%BA%8E%E7%AC%94%E8%AE%B0%E7%9A%84%E5%88%9B%E5%BB%BA%E6%97%A5%E6%9C%9F%E5%92%8C%E4%B8%BB%E9%A2%98%E7%9A%84%E6%B1%87%E9%9B%86">汇集主题–关于笔记的创建日期和主题的汇集</a></li>
<li><a target="_blank" rel="noopener" href="https://pkmer.cn/Pkmer-Docs/10-obsidian/obsidian%E7%A4%BE%E5%8C%BA%E6%8F%92%E4%BB%B6/dataview/dataview%E8%AF%AD%E6%B3%95%E5%AE%9E%E6%88%98/%E6%B7%BB%E5%8A%A0%E6%9F%90%E4%B8%80%E4%B8%BB%E9%A2%98%E7%AC%94%E8%AE%B0%E5%88%97%E8%A1%A8--%E8%A1%A8%E6%A0%BC%E7%94%A8%E6%B3%95">添加某一主题笔记列表–表格用法</a></li>
<li><a target="_blank" rel="noopener" href="https://pkmer.cn/Pkmer-Docs/10-obsidian/obsidian%E7%A4%BE%E5%8C%BA%E6%8F%92%E4%BB%B6/dataview/dataview%E8%AF%AD%E6%B3%95%E5%AE%9E%E6%88%98/%E6%B7%BB%E5%8A%A0%E6%9F%90%E4%B8%80%E4%B8%BB%E9%A2%98%E7%AC%94%E8%AE%B0%E5%88%97%E8%A1%A8--%E5%9F%BA%E6%9C%AC%E7%94%A8%E6%B3%95">添加某一主题笔记列表–基本用法</a></li>
<li><a target="_blank" rel="noopener" href="https://pkmer.cn/Pkmer-Docs/10-obsidian/obsidian%E7%A4%BE%E5%8C%BA%E6%8F%92%E4%BB%B6/dataview/dataview%E8%AF%AD%E6%B3%95%E5%AE%9E%E6%88%98/%E6%B7%BB%E5%8A%A0%E6%9F%90%E4%B8%80%E4%B8%BB%E9%A2%98%E7%AC%94%E8%AE%B0%E5%88%97%E8%A1%A8--%E8%BF%9B%E9%98%B6%E7%94%A8%E6%B3%95">添加某一主题笔记列表–进阶用法</a></li>
<li><a target="_blank" rel="noopener" href="https://pkmer.cn/Pkmer-Docs/10-obsidian/obsidian%E7%A4%BE%E5%8C%BA%E6%8F%92%E4%BB%B6/dataview/dataview%E8%AF%AD%E6%B3%95%E5%AE%9E%E6%88%98/%E6%B7%BB%E5%8A%A0%E7%9B%B8%E5%90%8C%E4%B8%BB%E9%A2%98%E7%AC%94%E8%AE%B0%E5%88%97%E8%A1%A8--%E8%A1%A8%E6%A0%BC%E7%94%A8%E6%B3%95">添加相同主题笔记列表–表格用法</a></li>
<li><a target="_blank" rel="noopener" href="https://pkmer.cn/Pkmer-Docs/10-obsidian/obsidian%E7%A4%BE%E5%8C%BA%E6%8F%92%E4%BB%B6/dataview/dataview%E8%AF%AD%E6%B3%95%E5%AE%9E%E6%88%98/%E6%B7%BB%E5%8A%A0%E7%9B%B8%E5%90%8C%E4%B8%BB%E9%A2%98%E7%AC%94%E8%AE%B0%E5%88%97%E8%A1%A8--%E5%9F%BA%E6%9C%AC%E7%94%A8%E6%B3%95">添加相同主题笔记列表–基本用法</a></li>
<li><a target="_blank" rel="noopener" href="https://pkmer.cn/Pkmer-Docs/10-obsidian/obsidian%E7%A4%BE%E5%8C%BA%E6%8F%92%E4%BB%B6/dataview/dataview%E8%AF%AD%E6%B3%95%E5%AE%9E%E6%88%98/%E6%B7%BB%E5%8A%A0%E7%9B%B8%E5%90%8C%E4%B8%BB%E9%A2%98%E7%AC%94%E8%AE%B0%E5%88%97%E8%A1%A8--%E8%BF%9B%E9%98%B6%E7%94%A8%E6%B3%95">添加相同主题笔记列表–进阶用法</a></li>
<li><a target="_blank" rel="noopener" href="https://pkmer.cn/Pkmer-Docs/10-obsidian/obsidian%E7%A4%BE%E5%8C%BA%E6%8F%92%E4%BB%B6/dataview/dataview%E8%AF%AD%E6%B3%95%E5%AE%9E%E6%88%98/%E6%B7%BB%E5%8A%A0%E7%9B%B8%E5%90%8C%E4%B8%BB%E9%A2%98%E7%AC%94%E8%AE%B0%E5%88%97%E8%A1%A8--%E5%AE%8C%E5%85%A8%E7%9B%B8%E5%90%8C">添加相同主题笔记列表–完全相同</a></li>
<li><a target="_blank" rel="noopener" href="https://pkmer.cn/Pkmer-Docs/10-obsidian/obsidian%E7%A4%BE%E5%8C%BA%E6%8F%92%E4%BB%B6/dataview/dataview%E8%AF%AD%E6%B3%95%E5%AE%9E%E6%88%98/%E6%B7%BB%E5%8A%A0%E7%9B%B8%E5%90%8C%E4%B8%BB%E9%A2%98%E7%AC%94%E8%AE%B0%E5%88%97%E8%A1%A8--%E6%8C%87%E5%AE%9A%E6%9C%88%E4%BB%BD">添加相同主题笔记列表–指定月份</a><h2 id="应用-Dataview社区实践经验"><a href="#应用-Dataview社区实践经验" class="headerlink" title="应用-Dataview社区实践经验"></a>应用-Dataview社区实践经验</h2></li>
<li><a target="_blank" rel="noopener" href="https://pkmer.cn/Pkmer-Docs/10-obsidian/obsidian%E7%A4%BE%E5%8C%BA%E6%8F%92%E4%BB%B6/dataview/dataview%E7%A4%BE%E5%8C%BA%E5%AE%9E%E8%B7%B5%E7%BB%8F%E9%AA%8C/dataview%E5%AE%9E%E6%88%98-%E5%AE%9A%E5%88%B6%E4%BD%A0%E7%9A%84%E6%95%B0%E6%8D%AE%E8%A1%A8%E6%A0%BC%E5%B9%B6%E4%B8%BA%E8%A1%A8%E6%A0%BC%E5%88%97%E6%B7%BB%E5%8A%A0%E4%B8%AA%E6%80%A7%E5%8C%96%E6%A0%B7%E5%BC%8F">Dataview实战-定制你的数据表格并为表格列添加个性化样式</a></li>
<li><a target="_blank" rel="noopener" href="https://pkmer.cn/Pkmer-Docs/10-obsidian/obsidian%E7%A4%BE%E5%8C%BA%E6%8F%92%E4%BB%B6/dataview/dataview%E7%A4%BE%E5%8C%BA%E5%AE%9E%E8%B7%B5%E7%BB%8F%E9%AA%8C/dataview%E5%AE%9E%E6%88%98-%E5%8F%91%E6%8C%A5%E5%85%83%E6%95%B0%E6%8D%AE%E7%9A%84%E9%AD%94%E5%8A%9B-%E6%8E%8C%E6%8F%A1-dataview-%E7%9A%84%E5%9B%9B%E5%A4%A7%E6%9F%A5%E8%AF%A2%E7%B1%BB%E5%9E%8B">Dataview实战-发挥元数据的魔力-掌握 Dataview 的四大查询类型</a></li>
<li><a target="_blank" rel="noopener" href="https://pkmer.cn/Pkmer-Docs/10-obsidian/obsidian%E7%A4%BE%E5%8C%BA%E6%8F%92%E4%BB%B6/dataview/dataview%E7%A4%BE%E5%8C%BA%E5%AE%9E%E8%B7%B5%E7%BB%8F%E9%AA%8C/dataview%E5%AE%9E%E6%88%98-%E6%8F%90%E5%8F%96%E5%B9%B6%E5%B1%95%E7%A4%BA%E7%AC%94%E8%AE%B0%E8%84%9A%E6%B3%A8">Dataview实战-提取并展示笔记脚注.</a></li>
<li><a target="_blank" rel="noopener" href="https://pkmer.cn/Pkmer-Docs/10-obsidian/obsidian%E7%A4%BE%E5%8C%BA%E6%8F%92%E4%BB%B6/dataview/dataview%E7%A4%BE%E5%8C%BA%E5%AE%9E%E8%B7%B5%E7%BB%8F%E9%AA%8C/dataview%E5%AE%9E%E6%88%98-obsidian-dataview-%E5%BC%95%E7%94%A8%E6%9C%AC%E5%9C%B0%E5%9B%BE%E7%89%87">Dataview实战-Obsidian dataview 引用本地图片.</a></li>
<li><a target="_blank" rel="noopener" href="https://pkmer.cn/Pkmer-Docs/10-obsidian/obsidian%E5%A4%96%E8%A7%82/css-%E7%89%87%E6%AE%B5/obsidian%E6%A0%B7%E5%BC%8F-dataview%E5%9C%A8table%E8%A7%86%E5%9B%BE%E4%B8%8B%E6%A0%87%E7%AD%BE%E5%87%BA%E7%8E%B0%E9%94%99%E4%BD%8D%E6%96%AD%E8%A3%82%E7%9A%84%E4%BF%AE%E5%A4%8D">Obsidian样式-DataView在table视图下标签出现错位断裂的修复</a></li>
<li><a target="_blank" rel="noopener" href="https://pkmer.cn/Pkmer-Docs/10-obsidian/obsidian%E7%A4%BE%E5%8C%BA%E6%8F%92%E4%BB%B6/dataview/dataview%E7%A4%BE%E5%8C%BA%E5%AE%9E%E8%B7%B5%E7%BB%8F%E9%AA%8C/dataview%E5%AE%9E%E6%88%98-%E9%80%9A%E8%BF%87dataview%E5%88%97%E5%87%BA%E6%A0%87%E7%AD%BE%E6%89%80%E5%9C%A8%E6%AE%B5%E8%90%BD%E5%86%85%E5%AE%B9">Dataview实战-通过Dataview列出标签所在段落内容</a></li>
<li><a target="_blank" rel="noopener" href="https://pkmer.cn/Pkmer-Docs/10-obsidian/obsidian%E7%A4%BE%E5%8C%BA%E6%8F%92%E4%BB%B6/dataview/dataview%E7%A4%BE%E5%8C%BA%E5%AE%9E%E8%B7%B5%E7%BB%8F%E9%AA%8C/dataview%E5%AE%9E%E6%88%98-%E5%A6%82%E4%BD%95%E4%B8%8D%E6%98%BE%E7%A4%BA%E7%AC%94%E8%AE%B0%E9%93%BE%E6%8E%A5">Dataview实战-如何不显示笔记链接</a></li>
<li><a target="_blank" rel="noopener" href="https://pkmer.cn/Pkmer-Docs/10-obsidian/obsidian%E7%A4%BE%E5%8C%BA%E6%8F%92%E4%BB%B6/dataview/dataview%E7%A4%BE%E5%8C%BA%E5%AE%9E%E8%B7%B5%E7%BB%8F%E9%AA%8C/dataview%E5%AE%9E%E6%88%98-%E5%88%B6%E4%BD%9C%E4%B8%80%E4%B8%AA%E5%80%92%E8%AE%A1%E6%97%B6%E6%88%96%E8%80%85%E6%AD%A3%E8%AE%A1%E6%97%B6%E5%88%97%E8%A1%A8">Dataview实战-制作一个倒计时或者正计时列表</a></li>
<li><a target="_blank" rel="noopener" href="https://pkmer.cn/Pkmer-Docs/10-obsidian/obsidian%E7%A4%BE%E5%8C%BA%E6%8F%92%E4%BB%B6/dataview/dataview%E7%A4%BE%E5%8C%BA%E5%AE%9E%E8%B7%B5%E7%BB%8F%E9%AA%8C/dataview%E5%AE%9E%E6%88%98-%E5%A6%82%E4%BD%95%E6%9F%A5%E8%AF%A2%E4%B8%80%E4%B8%AA%E6%96%87%E4%BB%B6%E4%B8%AD%E7%9A%84%E6%89%80%E6%9C%89%E5%9B%BE%E7%89%87">Dataview实战-如何查询一个文件中的所有图片</a></li>
<li><a target="_blank" rel="noopener" href="https://pkmer.cn/Pkmer-Docs/10-obsidian/obsidian%E7%A4%BE%E5%8C%BA%E6%8F%92%E4%BB%B6/dataview/dataview%E7%A4%BE%E5%8C%BA%E5%AE%9E%E8%B7%B5%E7%BB%8F%E9%AA%8C/dataview%E5%AE%9E%E6%88%98-%E5%88%97%E5%87%BA%E5%8C%85%E5%90%AB%E7%89%B9%E5%AE%9A%E6%96%87%E5%AD%97%E7%9A%84%E6%96%87%E4%BB%B6%E6%88%96%E5%85%83%E6%95%B0%E6%8D%AE">Dataview实战-列出包含特定文字的文件或元数据</a></li>
<li><a target="_blank" rel="noopener" href="https://pkmer.cn/Pkmer-Docs/10-obsidian/obsidian%E7%A4%BE%E5%8C%BA%E6%8F%92%E4%BB%B6/dataview/dataview%E7%A4%BE%E5%8C%BA%E5%AE%9E%E8%B7%B5%E7%BB%8F%E9%AA%8C/dataview%E5%AE%9E%E6%88%98-%E5%9C%A8%E5%90%8C%E4%B8%80%E4%B8%AA%E8%A1%A8%E7%9A%84%E5%88%97%E4%B8%AD%E6%98%BE%E7%A4%BA%E4%B8%A4%E4%B8%AA%E5%85%83%E6%95%B0%E6%8D%AE%E5%AD%97%E6%AE%B5">Dataview实战-在同一个表的列中显示两个元数据字段</a></li>
<li><a target="_blank" rel="noopener" href="https://pkmer.cn/Pkmer-Docs/10-obsidian/obsidian%E7%A4%BE%E5%8C%BA%E6%8F%92%E4%BB%B6/dataview/dataview%E7%A4%BE%E5%8C%BA%E5%AE%9E%E8%B7%B5%E7%BB%8F%E9%AA%8C/dataview%E5%AE%9E%E6%88%98-%E5%A6%82%E4%BD%95%E8%AE%A9-dataview-%E8%AF%86%E5%88%AB%E4%B8%8D%E5%90%8C%E6%A0%BC%E5%BC%8F%E7%9A%84%E6%97%A5%E6%9C%9F">Dataview实战-如何让 Dataview 识别不同格式的日期</a></li>
<li><a target="_blank" rel="noopener" href="https://pkmer.cn/Pkmer-Docs/10-obsidian/obsidian%E7%A4%BE%E5%8C%BA%E6%8F%92%E4%BB%B6/dataview/dataview%E7%A4%BE%E5%8C%BA%E5%AE%9E%E8%B7%B5%E7%BB%8F%E9%AA%8C/dataview%E5%AE%9E%E6%88%98-%E5%A6%82%E4%BD%95%E7%BB%9F%E8%AE%A1%E5%B1%9E%E6%80%A7%E5%80%BC%E4%B8%BA%E7%A9%BA%E7%9A%84%E5%80%BC">Dataview实战-如何统计属性值为空的值</a></li>
<li><a target="_blank" rel="noopener" href="https://pkmer.cn/Pkmer-Docs/10-obsidian/obsidian%E7%A4%BE%E5%8C%BA%E6%8F%92%E4%BB%B6/dataview/dataview%E7%A4%BE%E5%8C%BA%E5%AE%9E%E8%B7%B5%E7%BB%8F%E9%AA%8C/dataview%E5%AE%9E%E6%88%98-%E9%80%9A%E8%BF%87dataview%E5%88%97%E5%87%BA%E5%85%B3%E9%94%AE%E5%AD%97%E6%89%80%E5%9C%A8%E7%9A%84%E8%A1%8C%E5%92%8C%E8%A1%8C%E6%95%B0">Dataview实战-通过Dataview列出关键字所在的行和行数</a></li>
<li><a target="_blank" rel="noopener" href="https://pkmer.cn/Pkmer-Docs/10-obsidian/obsidian%E7%A4%BE%E5%8C%BA%E6%8F%92%E4%BB%B6/dataview/dataview%E7%A4%BE%E5%8C%BA%E5%AE%9E%E8%B7%B5%E7%BB%8F%E9%AA%8C/dataview%E5%AE%9E%E6%88%98-%E5%A6%82%E4%BD%95%E5%9C%A8%E6%9F%A5%E8%AF%A2%E4%B8%AD%E5%88%9B%E5%BB%BA%E8%87%AA%E5%AE%9A%E4%B9%89%E8%BE%93%E5%87%BA">Dataview实战-如何在查询中创建自定义输出</a></li>
<li><a target="_blank" rel="noopener" href="https://pkmer.cn/Pkmer-Docs/10-obsidian/obsidian%E7%A4%BE%E5%8C%BA%E6%8F%92%E4%BB%B6/dataview/dataview%E7%A4%BE%E5%8C%BA%E5%AE%9E%E8%B7%B5%E7%BB%8F%E9%AA%8C/dataview%E5%AE%9E%E6%88%98-%E5%88%97%E5%87%BA%E4%B8%8E%E5%BD%93%E5%89%8D%E6%96%87%E4%BB%B6%E6%9C%89%E7%9B%B8%E5%90%8C%E5%85%83%E6%95%B0%E6%8D%AE%E7%9A%84%E6%96%87%E4%BB%B6">Dataview实战-列出与当前文件有相同元数据的文件</a></li>
<li><a target="_blank" rel="noopener" href="https://pkmer.cn/Pkmer-Docs/10-obsidian/obsidian%E7%A4%BE%E5%8C%BA%E6%8F%92%E4%BB%B6/dataview/dataview%E7%A4%BE%E5%8C%BA%E5%AE%9E%E8%B7%B5%E7%BB%8F%E9%AA%8C/dataview%E5%AE%9E%E6%88%98-%E8%8E%B7%E5%8F%96%E5%89%8D%E5%90%8E%E7%9A%84%E6%97%A5%E8%AE%B0%E9%93%BE%E6%8E%A5%EF%BC%88%E4%B8%8D%E4%B8%80%E5%AE%9A%E6%98%AF%E6%98%A8%E5%A4%A9%EF%BC%89">Dataview实战-获取前后的日记链接（不一定是昨天）</a></li>
<li><a target="_blank" rel="noopener" href="https://pkmer.cn/Pkmer-Docs/10-obsidian/obsidian%E7%A4%BE%E5%8C%BA%E6%8F%92%E4%BB%B6/dataview/dataview%E7%A4%BE%E5%8C%BA%E5%AE%9E%E8%B7%B5%E7%BB%8F%E9%AA%8C/dataview%E5%AE%9E%E6%88%98-%E8%8E%B7%E5%8F%96%E6%9C%80%E6%96%B0%E6%89%93%E5%BC%80%E7%9A%84%E4%BB%BB%E5%8A%A1">Dataview实战-获取最新打开的任务</a></li>
<li><a target="_blank" rel="noopener" href="https://pkmer.cn/Pkmer-Docs/10-obsidian/obsidian%E7%A4%BE%E5%8C%BA%E6%8F%92%E4%BB%B6/dataview/dataview%E7%A4%BE%E5%8C%BA%E5%AE%9E%E8%B7%B5%E7%BB%8F%E9%AA%8C/dataview%E5%AE%9E%E6%88%98-%E5%B0%86%E4%B8%80%E5%91%A8%E7%9A%84%E5%85%83%E6%95%B0%E6%8D%AE%E6%98%BE%E7%A4%BA%E4%B8%BAemojis(%E4%B9%A0%E6%83%AF%E8%B7%9F%E8%B8%AA)">Dataview实战-将一周的元数据显示为emojis(习惯跟踪)</a></li>
<li><a target="_blank" rel="noopener" href="https://pkmer.cn/Pkmer-Docs/10-obsidian/obsidian%E7%A4%BE%E5%8C%BA%E6%8F%92%E4%BB%B6/dataview/dataview%E7%A4%BE%E5%8C%BA%E5%AE%9E%E8%B7%B5%E7%BB%8F%E9%AA%8C/dataview%E5%AE%9E%E6%88%98-%E5%88%97%E5%87%BA%E4%B8%8D%E5%AD%98%E5%9C%A8%E7%9A%84%E9%93%BE%E6%8E%A5%E9%A1%B5%E9%9D%A2">Dataview实战-列出不存在的链接页面</a></li>
<li><a target="_blank" rel="noopener" href="https://pkmer.cn/Pkmer-Docs/10-obsidian/obsidian%E7%A4%BE%E5%8C%BA%E6%8F%92%E4%BB%B6/dataview/dataview%E7%A4%BE%E5%8C%BA%E5%AE%9E%E8%B7%B5%E7%BB%8F%E9%AA%8C/dataview%E5%AE%9E%E6%88%98-%E5%88%97%E5%87%BA%E6%AF%8F%E5%B9%B4%E7%9A%84%E6%9F%90%E4%B8%AA%E6%9C%88%E4%BB%BD%E7%9A%84%E6%A3%80%E7%B4%A2%E7%BB%93%E6%9E%9C%E5%BA%94%E8%AF%A5%E6%80%8E%E4%B9%88%E5%86%99">Dataview实战-列出每年的某个月份的检索结果应该怎么写</a></li>
<li><a target="_blank" rel="noopener" href="https://pkmer.cn/Pkmer-Docs/10-obsidian/obsidian%E7%A4%BE%E5%8C%BA%E6%8F%92%E4%BB%B6/dataview/dataview%E7%A4%BE%E5%8C%BA%E5%AE%9E%E8%B7%B5%E7%BB%8F%E9%AA%8C/dataview%E5%AE%9E%E6%88%98-%E5%88%97%E5%87%BA%E4%BB%A5%E6%9F%90%E4%B8%AA%E5%AD%97%E6%AF%8D%E5%BC%80%E5%A4%B4%E7%9A%84%E6%96%87%E4%BB%B6%E6%88%96%E5%85%83%E6%95%B0%E6%8D%AE">Dataview实战-列出以某个字母开头的文件或元数据</a></li>
<li><a target="_blank" rel="noopener" href="https://pkmer.cn/Pkmer-Docs/10-obsidian/obsidian%E7%A4%BE%E5%8C%BA%E6%8F%92%E4%BB%B6/dataview/dataview%E7%A4%BE%E5%8C%BA%E5%AE%9E%E8%B7%B5%E7%BB%8F%E9%AA%8C/dataview%E5%AE%9E%E6%88%98-%E5%A6%82%E4%BD%95%E6%9F%A5%E8%AF%A2%E7%BB%93%E6%9E%9C%E7%9A%84%E6%95%B0%E7%9B%AE">Dataview实战-如何查询结果的数目</a></li>
<li><a target="_blank" rel="noopener" href="https://pkmer.cn/Pkmer-Docs/10-obsidian/obsidian%E7%A4%BE%E5%8C%BA%E6%8F%92%E4%BB%B6/dataview/dataview%E7%A4%BE%E5%8C%BA%E5%AE%9E%E8%B7%B5%E7%BB%8F%E9%AA%8C/dataview%E5%AE%9E%E6%88%98-%E5%B1%95%E7%A4%BA%E7%AC%94%E8%AE%B0%E6%80%BB%E6%95%B0">Dataview实战-展示笔记总数</a></li>
<li><a target="_blank" rel="noopener" href="https://pkmer.cn/Pkmer-Docs/10-obsidian/obsidian%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7/moy/obsidian%E6%B1%87%E6%80%BB%E6%98%BE%E7%A4%BA%E7%AC%94%E8%AE%B0%E5%86%85%E7%9A%84%E5%85%B3%E9%94%AE%E4%BF%A1%E6%81%AF">Obsidian汇总显示笔记内的关键信息</a></li>
<li><a target="_blank" rel="noopener" href="https://pkmer.cn/Pkmer-Docs/10-obsidian/obsidian%E7%A4%BE%E5%8C%BA%E6%8F%92%E4%BB%B6/dataview/dataview%E7%A4%BE%E5%8C%BA%E5%AE%9E%E8%B7%B5%E7%BB%8F%E9%AA%8C/%E5%A6%82%E4%BD%95%E7%BB%99-dataviewjs-%E4%B8%AD%E7%9A%84-tasklist-%E7%9A%84%E4%BB%BB%E5%8A%A1%E5%88%97%E8%A1%A8%E6%8E%92%E5%BA%8F">如何给 DataviewJS 中的 TaskList 的任务列表排序</a><h2 id="Dataview-达人之路系列"><a href="#Dataview-达人之路系列" class="headerlink" title="Dataview 达人之路系列"></a>Dataview 达人之路系列</h2></li>
<li><a target="_blank" rel="noopener" href="https://pkmer.cn/Pkmer-Docs/10-obsidian/obsidian%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7/jenemy/obsidian%E8%BE%BE%E4%BA%BA%E6%88%90%E9%95%BF%E4%B9%8B%E8%B7%AF-1-%E4%BD%BF%E7%94%A8%E7%BB%88%E6%9E%81%E5%B7%A5%E5%85%B7dataview-%E9%87%8A%E6%94%BE%E7%AC%94%E8%AE%B0%E5%BA%93%E7%9A%84%E6%BD%9C%E5%8A%9B-dql%E6%9F%A5%E8%AF%A2%E8%AF%AD%E8%A8%80">Obsidian达人成长之路-1-使用终极工具Dataview 释放笔记库的潜力-DQL查询语言</a></li>
<li><a target="_blank" rel="noopener" href="https://pkmer.cn/Pkmer-Docs/10-obsidian/obsidian%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7/jenemy/obsidian%E8%BE%BE%E4%BA%BA%E6%88%90%E9%95%BF%E4%B9%8B%E8%B7%AF-2-%E4%BD%BF%E7%94%A8%E7%BB%88%E6%9E%81%E5%B7%A5%E5%85%B7-dataview-%E9%87%8A%E6%94%BE%E7%AC%94%E8%AE%B0%E5%BA%93%E7%9A%84%E6%BD%9C%E5%8A%9B-%C2%B7-javascript-api">Obsidian达人成长之路-2-使用终极工具 Dataview 释放笔记库的潜力 · JavaScript API</a></li>
<li><a target="_blank" rel="noopener" href="https://pkmer.cn/Pkmer-Docs/10-obsidian/obsidian%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7/jenemy/obsidian%E8%BE%BE%E4%BA%BA%E6%88%90%E9%95%BF%E4%B9%8B%E8%B7%AF-3-%E4%BD%BF%E7%94%A8%E7%BB%88%E6%9E%81%E5%B7%A5%E5%85%B7-dataview-%E9%87%8A%E6%94%BE%E7%AC%94%E8%AE%B0%E5%BA%93%E7%9A%84%E6%BD%9C%E5%8A%9B-%E6%A1%88%E4%BE%8B%E8%AE%B2%E8%A7%A3">Obsidian达人成长之路-3-使用终极工具 Dataview 释放笔记库的潜力-案例讲解</a></li>
</ul>
<h1 id="DQL代码块查询"><a href="#DQL代码块查询" class="headerlink" title="DQL代码块查询"></a>DQL代码块查询</h1><h2 id="LIST列表"><a href="#LIST列表" class="headerlink" title="LIST列表"></a>LIST列表</h2><p>LIST 查询时，会将结果组成一个无序列表，包含文件链接或组名 (如果决定分组)。除了文件信息外，最多还可以指定一个要输出的附加信息。</p>
<blockquote>
<p>【使用 List 查询时，Field 只能有一个属性。】</p>
</blockquote>
<ul>
<li>列出了 Vault 中的所有文件<br>  如果只有一个简单的 LIST 而没有其他的约束条件，他就会把库中的所有的文件以列表的形式展现出来（只有 Query Types 且不包含其他任何信息的时候，需要在结尾加一个空格）；  <figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">``</span><span class="string">`dataview</span></span><br><span class="line"><span class="string">   LIST </span></span><br><span class="line"><span class="string">   `</span><span class="string">``</span></span><br></pre></td></tr></table></figure></li>
<li>列出了文件库中具有标签 <code>#poems</code> 和名为 <code>author</code> 且值为 <code>Edgar Allan Poe</code> 的字段的所有文件  <figure class="highlight autohotkey"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">```dataview</span><br><span class="line">   LIST </span><br><span class="line">   FROM #poems </span><br><span class="line">   WHERE author = <span class="string">&quot;Edgar Allan Poe&quot;</span> </span><br><span class="line">   ```</span><br></pre></td></tr></table></figure>
  会列出具有以下属性的文件  <figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">--- </span></span><br><span class="line"><span class="attr">author:</span> <span class="string">&quot;Edgar Allan Poe&quot;</span> </span><br><span class="line"><span class="attr">tags:</span> <span class="string">poems</span> </span><br><span class="line"><span class="meta">---</span></span><br></pre></td></tr></table></figure></li>
<li>不带 ID 的列表【用 WITHOUT 去除第一个属性】  <figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">``</span><span class="string">`dataview</span></span><br><span class="line"><span class="string">   LIST WITHOUT ID file.path</span></span><br><span class="line"><span class="string">   `</span><span class="string">``</span></span><br></pre></td></tr></table></figure></li>
<li>列出当前文件夹下（不含本文件）的所有文件名称  <figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">```dataview</span><br><span class="line">   LIST</span><br><span class="line">   FROM <span class="string">&quot;&quot;</span></span><br><span class="line">   WHERE <span class="keyword">contains</span>(<span class="built_in">file</span>.<span class="built_in">folder</span>, this.<span class="built_in">file</span>.<span class="built_in">folder</span>)</span><br><span class="line">   AND !<span class="keyword">contains</span>(<span class="built_in">file</span>.name,this.<span class="built_in">file</span>.name)</span><br><span class="line">   ```</span><br></pre></td></tr></table></figure></li>
<li>列出当前文件夹下文件名带“—”的所有文件名称，并根据chapter自然排序【没有<code>contains(file.folder,this.file.folder)</code>限制的话就是ob下所有文件】<figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">```dataview</span><br><span class="line">LIST</span><br><span class="line">WHERE <span class="keyword">contains</span>(<span class="built_in">file</span>.<span class="built_in">folder</span>,this.<span class="built_in">file</span>.<span class="built_in">folder</span>)</span><br><span class="line">AND <span class="keyword">contains</span>(<span class="built_in">file</span>.name,<span class="string">&quot;---&quot;</span>)</span><br><span class="line">SORT chapter <span class="comment">--------------根据chapter自然排序</span></span><br><span class="line">```</span><br></pre></td></tr></table></figure></li>
</ul>
<figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">```dataview</span><br><span class="line">LIST WITHOUT ID <span class="string">&quot;File Path: &quot;</span> + <span class="built_in">file</span>.<span class="built_in">folder</span> + <span class="string">&quot; _(created: &quot;</span> + <span class="built_in">file</span>.cday + <span class="string">&quot;)_&quot;</span> </span><br><span class="line">FROM <span class="comment">#games/mobas OR #games/crpg </span></span><br><span class="line">WHERE <span class="built_in">file</span>.<span class="built_in">folder</span>=this.<span class="built_in">file</span>.<span class="built_in">folder</span> </span><br><span class="line">AND !<span class="keyword">contains</span>(<span class="built_in">file</span>.name,<span class="string">&quot;-&quot;</span>) </span><br><span class="line">OR <span class="keyword">contains</span>()</span><br><span class="line">LIMIT <span class="number">10</span>  <span class="comment">--------------限制10条</span></span><br><span class="line">GROUP BY type <span class="comment">-------------根据type分组</span></span><br><span class="line">SORT chapter DESC <span class="comment">--------------根据chapter自然逆序排序</span></span><br><span class="line">```</span><br></pre></td></tr></table></figure>


<h2 id="TABLE表格"><a href="#TABLE表格" class="headerlink" title="TABLE表格"></a>TABLE表格</h2><p>TABLE 查询类型将页面数据输出为表格视图。【第1列是文件名称】</p>
<ul>
<li><p>可以用逗号分隔来同时查询多个属性；</p>
</li>
<li><p>可以使用纯元数据字段作为列，还可以指定计算；</p>
</li>
<li><p>与所有其他查询类型一样，你可以配合其他函数来优化查询的结果；</p>
</li>
<li><p>显示表格</p>
<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">```dataview</span><br><span class="line"><span class="keyword">TABLE</span> WIHOUT ID  <span class="comment">------------去掉第一列</span></span><br><span class="line">    author,</span><br><span class="line">    <span class="type">time</span>-played <span class="keyword">AS</span> &quot;Time Played&quot;,  <span class="comment">------表格第三列名称</span></span><br><span class="line">    length <span class="keyword">AS</span> &quot;Length&quot;, </span><br><span class="line">    rating <span class="keyword">AS</span> &quot;Rating&quot; </span><br><span class="line"><span class="keyword">FROM</span> &quot;games&quot; <span class="comment">--------</span></span><br><span class="line">SORT rating <span class="keyword">DESC</span> <span class="comment">-------按rating字段自然逆序排序</span></span><br><span class="line">```</span><br></pre></td></tr></table></figure></li>
</ul>
<p><img src="/posts/aa25fedf/../Pkmer-Math-main/%E6%A6%82%E7%8E%87%E8%AE%BA/--%E6%A6%82%E7%8E%87%E8%AE%BA--.md#%5Ee7693f" alt="--概率论--"></p>
<h2 id="TASK任务"><a href="#TASK任务" class="headerlink" title="TASK任务"></a>TASK任务</h2><p>TASK 查询将库中符合给定条件 (如果有的话) 的所有任务生成一个交互式列表。TASK 查询与其他查询类型相比是特殊的，因为它们返回的结果是任务，而不是页面。这意味着所有数据命令都在任务级别上操作，并且可以对任务进行细粒度过滤。（即筛选最小的范围从页面级到了任务级，可以根据任务本身的元数据进行过滤）</p>
<p>只用 TASK 时，他会显示所有文档中的所有任务（注意末尾加空格）</p>
<ul>
<li>搜索所有未完成的并含有 shopping 标签的任务<figure class="highlight autohotkey"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">```dataview</span><br><span class="line">TASK </span><br><span class="line">WHERE !completed <span class="literal">AND</span> contains(tags, <span class="string">&quot;#shopping&quot;</span>) </span><br><span class="line">```</span><br></pre></td></tr></table></figure></li>
<li>搜索所有未完成的任务，并且按他们的原始文件分类<figure class="highlight sas"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">```dataview</span><br><span class="line">TASK </span><br><span class="line"><span class="keyword">WHERE</span> !completed </span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> <span class="keyword">file</span>.<span class="keyword">link</span> </span><br><span class="line">```</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="CALENDAR日历"><a href="#CALENDAR日历" class="headerlink" title="CALENDAR日历"></a>CALENDAR日历</h2><ul>
<li>CALENDAR 查询输出一个月的日历，其中每个结果都用一个点表示在对应的日期上。</li>
<li>CALENDAR 是唯一需要附加信息的查询类型，并且附加信息需要是日期。<figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">``</span><span class="string">`dataview</span></span><br><span class="line"><span class="string">CALENDAR file.ctime </span></span><br><span class="line"><span class="string">`</span><span class="string">``</span></span><br></pre></td></tr></table></figure>
其中，里面某一天里面的每一个点就代表一个查询结果（文件），光标移动到点出就可以预览对应的文件。文件分布在哪一天是由代码中的 file.ctime 决定的；<br>虽然可以将 SORT 和 GROUP BY 与 CALENDAR 结合使用不会报错，但是也不会有效果。<br>此外，如果给定的元数据字段包含有效日期以外的内容 (但该字段可以为空)，则不会呈现日历查询。为了确保你只考虑有效的页面，你可以过滤有效的元数据值:<figure class="highlight autohotkey"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">```dataview</span><br><span class="line">CALENDAR due </span><br><span class="line">WHERE typeof(due) = <span class="string">&quot;date&quot;</span> </span><br><span class="line">```</span><br></pre></td></tr></table></figure></li>
</ul>
<!-- flag of hidden posts -->
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/private/" rel="tag"># private</a>
          
            <a href="/tags/%E7%AC%94%E8%AE%B0/" rel="tag"># 笔记</a>
          
        </div>
      

      
      
      

      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            Overview
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/avatar.jpg"
                alt="" />
            
              <p class="site-author-name" itemprop="name"></p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">291</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">21</span>
                  <span class="site-state-item-name">categories</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">47</span>
                  <span class="site-state-item-name">tags</span>
                </a>
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="mailto:shenbh@qq.com" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://blog.csdn.net/ptwenzi?spm=1010.2135.3001.5113" target="_blank" title="CSDN">
                      
                        <i class="fa fa-fw fa-clone"></i>CSDN</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#DataView-Doc"><span class="nav-text">DataView Doc</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%BC%80%E7%AF%87-Dataview%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95"><span class="nav-text">开篇-Dataview基本语法</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%AE%80%E5%8D%95%E7%A4%BA%E4%BE%8B"><span class="nav-text">简单示例</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Metadata-%E5%85%83%E6%95%B0%E6%8D%AE"><span class="nav-text">Metadata 元数据</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B7%BB%E5%8A%A0%E5%85%83%E6%95%B0%E6%8D%AE%E8%87%B3%E6%96%87%E4%BB%B6"><span class="nav-text">添加元数据至文件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B7%BB%E5%8A%A0%E5%85%83%E6%95%B0%E6%8D%AE%E8%87%B3%E5%88%97%E8%A1%A8%E5%92%8C%E4%BB%BB%E5%8A%A1"><span class="nav-text">添加元数据至列表和任务</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Metadata%E7%9A%84%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="nav-text">Metadata的数据类型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%9A%90%E5%BC%8F%E5%AD%97%E6%AE%B5"><span class="nav-text">隐式字段</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Literals-%E5%AD%97%E9%9D%A2%E5%B8%B8%E9%87%8F"><span class="nav-text">Literals 字面常量</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B8%80%E8%88%AC%E5%AD%97%E9%9D%A2%E5%B8%B8%E9%87%8F-General"><span class="nav-text">一般字面常量 General</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%97%A5%E6%9C%9F%E7%9A%84%E5%AD%97%E9%9D%A2%E5%B8%B8%E9%87%8F"><span class="nav-text">日期的字面常量</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AE%9A%E9%95%BF%E6%97%A5%E6%9C%9F"><span class="nav-text">定长日期</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9B%9B%E7%A7%8D%E6%9F%A5%E8%AF%A2%E6%96%B9%E5%BC%8F"><span class="nav-text">四种查询方式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9F%A5%E8%AF%A2%E7%B1%BB%E5%9E%8B"><span class="nav-text">查询类型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9F%A5%E8%AF%A2%E5%AD%97%E6%AE%B5"><span class="nav-text">查询字段</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%93%8D%E4%BD%9C%E7%AC%A6"><span class="nav-text">操作符</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#FROM"><span class="nav-text">FROM</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#WHERE"><span class="nav-text">WHERE</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#SORT"><span class="nav-text">SORT</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#GROUP-BY"><span class="nav-text">GROUP BY</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#FLATTEN"><span class="nav-text">FLATTEN</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#LIMIT"><span class="nav-text">LIMIT</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="nav-text">表达式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Dataview-%E6%8F%90%E4%BE%9B%E7%9A%84%E5%87%BD%E6%95%B0-Function"><span class="nav-text">Dataview 提供的函数 Function</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Constructors-%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0"><span class="nav-text">Constructors 构造函数</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Numeric-Operations-%E6%95%B0%E5%80%BC%E8%BF%90%E7%AE%97%E5%87%BD%E6%95%B0"><span class="nav-text">Numeric Operations 数值运算函数</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Objects-Arrays-and-String-Operations-%E5%AF%B9%E8%B1%A1%E6%93%8D%E7%BA%B5%E5%87%BD%E6%95%B0"><span class="nav-text">Objects, Arrays, and String Operations 对象操纵函数</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#String-Operations-%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%93%8D%E7%BA%B5%E5%87%BD%E6%95%B0"><span class="nav-text">String Operations 字符串操纵函数</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Utility-Functions-%E5%AE%9E%E7%94%A8%E5%87%BD%E6%95%B0"><span class="nav-text">Utility Functions 实用函数</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#FAQ-%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98"><span class="nav-text">FAQ-常见问题</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#DQL-%E4%B8%8E-SQL-%E7%9A%84%E5%BC%82%E5%90%8C"><span class="nav-text">DQL 与 SQL 的异同</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ISO-8601"><span class="nav-text">ISO 8601</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%B9%B4%E4%BB%BD"><span class="nav-text">年份</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AD%A3%E5%BA%A6"><span class="nav-text">季度</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%9C%88%E4%BB%BD"><span class="nav-text">月份</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%91%A8%E6%95%B0"><span class="nav-text">周数</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%A4%A9%E6%95%B0"><span class="nav-text">天数</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%9C%88%E7%9A%84%E5%A4%A9%E6%95%B0"><span class="nav-text">月的天数</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%B9%B4%E7%9A%84%E5%A4%A9%E6%95%B0"><span class="nav-text">年的天数</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%91%A8%E7%9A%84%E5%A4%A9%E6%95%B0"><span class="nav-text">周的天数</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B8%8A%E4%B8%8B%E5%8D%88"><span class="nav-text">上下午</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%B0%8F%E6%97%B6"><span class="nav-text">小时</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#24-%E5%B0%8F%E6%97%B6%E5%88%B6"><span class="nav-text">24 小时制</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#12-%E5%B0%8F%E6%97%B6%E5%88%B6"><span class="nav-text">12 小时制</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%86%E9%92%9F"><span class="nav-text">分钟</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%A7%92%E6%95%B0"><span class="nav-text">秒数</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%97%B6%E5%8C%BA"><span class="nav-text">时区</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%9B%BA%E5%AE%9A%E5%86%85%E5%AE%B9"><span class="nav-text">固定内容</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%A4%BA%E4%BE%8B"><span class="nav-text">示例</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#YAML-%E5%9F%BA%E7%A1%80"><span class="nav-text">YAML 基础</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#YAML-MAP"><span class="nav-text">YAML MAP</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#YAML-LIST"><span class="nav-text">YAML LIST</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%9B%B8%E5%85%B3%E6%8F%92%E4%BB%B6"><span class="nav-text">相关插件</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Dataview-%E8%AE%BE%E7%BD%AE%E4%BB%8B%E7%BB%8D"><span class="nav-text">Dataview 设置介绍</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#General-Settings-%E5%9F%BA%E7%A1%80%E8%AE%BE%E7%BD%AE"><span class="nav-text">General Settings 基础设置</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Codeblock-Settings-%E4%BB%A3%E7%A0%81%E5%9D%97%E8%AE%BE%E7%BD%AE"><span class="nav-text">Codeblock Settings 代码块设置</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#View-Settings-%E8%A7%86%E5%9B%BE%E8%AE%BE%E7%BD%AE"><span class="nav-text">View Settings 视图设置</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#General-%E8%A7%86%E5%9B%BE%E5%B8%B8%E8%A7%84%E8%AE%BE%E7%BD%AE"><span class="nav-text">General 视图常规设置</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Table-Settings-%E8%A1%A8%E6%A0%BC%E8%A7%86%E5%9B%BE%E8%AE%BE%E7%BD%AE"><span class="nav-text">Table Settings 表格视图设置</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Task-Settings-%E4%BB%BB%E5%8A%A1%E8%A7%86%E5%9B%BE%E8%AE%BE%E7%BD%AE"><span class="nav-text">Task Settings 任务视图设置</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Dataview%E8%AF%AD%E6%B3%95%E5%AE%9E%E6%88%98"><span class="nav-text">Dataview语法实战</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%BF%9B%E9%98%B6-Dataview%E8%AF%AD%E6%B3%95%E5%AE%9E%E6%88%98"><span class="nav-text">进阶-Dataview语法实战</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%BA%94%E7%94%A8-Dataview%E7%A4%BE%E5%8C%BA%E5%AE%9E%E8%B7%B5%E7%BB%8F%E9%AA%8C"><span class="nav-text">应用-Dataview社区实践经验</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Dataview-%E8%BE%BE%E4%BA%BA%E4%B9%8B%E8%B7%AF%E7%B3%BB%E5%88%97"><span class="nav-text">Dataview 达人之路系列</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#DQL%E4%BB%A3%E7%A0%81%E5%9D%97%E6%9F%A5%E8%AF%A2"><span class="nav-text">DQL代码块查询</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#LIST%E5%88%97%E8%A1%A8"><span class="nav-text">LIST列表</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#TABLE%E8%A1%A8%E6%A0%BC"><span class="nav-text">TABLE表格</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#TASK%E4%BB%BB%E5%8A%A1"><span class="nav-text">TASK任务</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#CALENDAR%E6%97%A5%E5%8E%86"><span class="nav-text">CALENDAR日历</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      
        <div class="back-to-top">
          <i class="fa fa-arrow-up"></i>
          
            <span id="scrollpercent"><span>0</span>%</span>
          
        </div>
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; 2018 &mdash; <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">阿炳</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Gemini</a> v5.1.4</div>




        







        
      </div>
    </footer>

    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('-1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  
  

  

  

  

  
  <style>
    .copy-btn {
      display: inline-block;
      padding: 6px 12px;
      font-size: 13px;
      font-weight: 700;
      line-height: 20px;
      color: #333;
      white-space: nowrap;
      vertical-align: middle;
      cursor: pointer;
      background-color: #eee;
      background-image: linear-gradient(#fcfcfc, #eee);
      border: 1px solid #d5d5d5;
      border-radius: 3px;
      user-select: none;
      outline: 0;
    }

    .highlight-wrap .copy-btn {
      transition: opacity .3s ease-in-out;
      opacity: 0;
      padding: 2px 6px;
      position: absolute;
      right: 4px;
      top: 8px;
    }

    .highlight-wrap:hover .copy-btn,
    .highlight-wrap .copy-btn:focus {
      opacity: 1
    }

    .highlight-wrap {
      position: relative;
    }
  </style>
  
  <script>
    $('.highlight').each(function (i, e) {
      var $wrap = $('<div>').addClass('highlight-wrap')
      $(e).after($wrap)
      $wrap.append($('<button>').addClass('copy-btn').append('Copy').on('click', function (e) {
        var code = $(this).parent().find('.code').find('.line').map(function (i, e) {
          return $(e).text()
        }).toArray().join('\n')
        var ta = document.createElement('textarea')
        document.body.appendChild(ta)
        ta.style.position = 'absolute'
        ta.style.top = '0px'
        ta.style.left = '0px'
        ta.value = code
        ta.select()
        ta.focus()
        var result = document.execCommand('copy')
        document.body.removeChild(ta)
        
          if(result)$(this).text('Copied')
          else $(this).text('Copy failed')
        
        $(this).blur()
      })).on('mouseleave', function (e) {
        var $b = $(this).find('.copy-btn')
        setTimeout(function () {
          $b.text('Copy')
        }, 300)
      }).append(e)
    })
  </script>

<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body>
</html>
<!-- 页面点击小红心 -->
<script type="text/javascript" src="/js/src/clicklove.js"></script>